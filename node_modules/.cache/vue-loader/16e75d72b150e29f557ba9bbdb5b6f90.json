{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/zixue/live-broad-cast/src/components/SelfPlayer.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/SelfPlayer.vue","mtime":1611227050000},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/css-loader/dist/cjs.js","mtime":1592792512947},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615566687412},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/postcss-loader/src/index.js","mtime":1584009011273},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/sass-loader/dist/cjs.js","mtime":1615566691505},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLy9AaW1wb3J0IHVybCgpOyDlvJXlhaXlhazlhbFjc3PnsbsKI2xpdmUtc2VsZi1wbGF5ZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQo="},{"version":3,"sources":["SelfPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA","file":"SelfPlayer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"live-self-player\"></div>\n</template>\n\n<script>\nlet store = BJY.store;\nlet eventEmitter = BJY.eventEmitter;\nexport default {\n  components: {},\n  data() {\n    return {\n      player: null,\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    // 创建自己的播放器\n    createMyPlayer(element) {\n      this.player = BJY.DefaultThemePlayer.create({\n        element: $(\"#live-self-player\"),\n        replace: false,\n        user: store.get(\"user\"),\n        extension: BJY.getExtension(),\n        canFold: true,\n        canSwitchCamera: true,\n        canSwitchMic: true,\n        onComplete: function () {\n          eventEmitter.trigger(eventEmitter.MEDIA_SWITCH_TRIGGER, {\n            videoOn: false,\n            audioOn: false,\n          });\n        },\n      });\n    },\n  },\n  created() {},\n  mounted() {\n    this.createMyPlayer();\n    eventEmitter.on(\n      // 监听自己摄像头和麦克风变化\n      eventEmitter.MEDIA_SWITCH_TRIGGER,\n      function (event, data) {\n        var player = BJY.Player.instances[store.get(\"user.id\")];\n        player && BJY.userPublish.setDevice(player, data.videoOn, data.audioOn);\n      }\n    );\n\n    // 监听自己播放器是否折叠\n    this.player &&\n      this.player.watch(\"isFolded\", (isFolded) => {\n        var element = $(\".live-self-player\");\n        if (isFolded) {\n          // 执行折叠\n          element.addClass(\"hide\");\n        } else {\n          // 执行展开\n          element.removeClass(\"hide\");\n        }\n      });\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\">\n//@import url(); 引入公共css类\n#live-self-player {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}