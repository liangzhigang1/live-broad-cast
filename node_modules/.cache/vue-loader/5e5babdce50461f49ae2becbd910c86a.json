{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/RollCall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/RollCall.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":1615566678361},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsYW5ndWFnZSBmcm9tICIuLi8uLi9sYW5ndWFnZS9tYWluIjsKCmxldCBhdXRoID0gQkpZLmF1dGg7CmxldCBldmVudEVtaXR0ZXIgPSBCSlkuZXZlbnRFbWl0dGVyOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsCiAgICAgIHN0YXR1czogMCwKICAgICAgaXNTdHVkZW50OiBhdXRoLmlzU3R1ZGVudCgpLAogICAgICBhcHBseVRpbWVyOiBudWxsLAogICAgICB0aW1lTGVmdDogIiIsCiAgICAgIHJlc3VsdDogIiIsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7fSwKICBjcmVhdGVkKCkgewogICAgZXZlbnRFbWl0dGVyLm9uKAogICAgICBldmVudEVtaXR0ZXIuUk9MTF9DQUxMLCAvLyDogIHluIjlj5HotbfkuobngrnlkI0KICAgICAgKGUsIGRhdGEpID0+IHsKICAgICAgICB0aGlzLnRpbWVMZWZ0ID0gZGF0YS5kdXJhdGlvbjsKICAgICAgICB0aGlzLiREaWFsb2cKICAgICAgICAgIC5zaG93KHsKICAgICAgICAgICAgdGl0bGU6ICLngrnlkI0iLAogICAgICAgICAgICBjb250ZW50OiBg6K+35ZyoPHNwYW4gaWQ9InJvbGwtY2FsbC10aW1lLWxlZnQiPiR7ZGF0YS5kdXJhdGlvbn08L3NwYW4+56eS5YaF5ZON5bqUYCwKICAgICAgICAgICAgY29uZmlybVRleHQ6ICLnrZTliLAiLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLlJPTExfQ0FMTF9SRVMpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwoKICAgICAgICB0aGlzLmFwcGx5VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy50aW1lTGVmdCA9PT0gMCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYXBwbHlUaW1lcik7CiAgICAgICAgICAgIHRoaXMuJERpYWxvZy5oaWRlKCk7CiAgICAgICAgICB9CiAgICAgICAgICAkKCIjcm9sbC1jYWxsLXRpbWUtbGVmdCIpLnRleHQodGhpcy50aW1lTGVmdCk7CiAgICAgICAgICB0aGlzLnRpbWVMZWZ0LS07CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgICk7CiAgfSwKICBtb3VudGVkKCkge30sCiAgYmVmb3JlRGVzdHJveSgpIHt9LAp9Owo="},{"version":3,"sources":["RollCall.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RollCall.vue","sourceRoot":"src/components/ModalPanel","sourcesContent":["<!-- 点名组件实现： 点名没有独立的组件来实现，我们提供了一套事件驱动的点名系统 -->\n\n<template>\n  <div id=\"roll-call-dialog\"></div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\n\nlet auth = BJY.auth;\nlet eventEmitter = BJY.eventEmitter;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language: language,\n      status: 0,\n      isStudent: auth.isStudent(),\n      applyTimer: null,\n      timeLeft: \"\",\n      result: \"\",\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {},\n  created() {\n    eventEmitter.on(\n      eventEmitter.ROLL_CALL, // 老师发起了点名\n      (e, data) => {\n        this.timeLeft = data.duration;\n        this.$Dialog\n          .show({\n            title: \"点名\",\n            content: `请在<span id=\"roll-call-time-left\">${data.duration}</span>秒内响应`,\n            confirmText: \"答到\",\n          })\n          .then(() => {\n            eventEmitter.trigger(eventEmitter.ROLL_CALL_RES);\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n\n        this.applyTimer = setInterval(() => {\n          if (this.timeLeft === 0) {\n            clearInterval(this.applyTimer);\n            this.$Dialog.hide();\n          }\n          $(\"#roll-call-time-left\").text(this.timeLeft);\n          this.timeLeft--;\n        }, 1000);\n      }\n    );\n  },\n  mounted() {},\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n</style>\n"]}]}