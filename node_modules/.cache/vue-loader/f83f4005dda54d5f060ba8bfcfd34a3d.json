{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/zixue/live-broad-cast/src/components/FunctionPanel/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/FunctionPanel/index.vue","mtime":1615727839708},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/css-loader/dist/cjs.js","mtime":1592792512947},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615566687412},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/postcss-loader/src/index.js","mtime":1584009011273},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/sass-loader/dist/cjs.js","mtime":1615566691505},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovL0BpbXBvcnQgdXJsKCk7IOW8leWFpeWFrOWFsWNzc+exuwouZnVuY3Rpb24tcGFuZWwgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZmxleC1ncm93OiAxOwoKICAubGVmdCwKICAucmlnaHQgewogICAgZGlzcGxheTogZmxleDsKCiAgICAmID4gKiB7CiAgICAgIG1hcmdpbjogMCA0cHg7CiAgICAgIHBhZGRpbmc6IDJweCAxMnB4OwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CgogICAgICAmOmhvdmVyIHsKICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOwogICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICB9CiAgICB9CgogICAgLmJqeS1jdXN0b20tcmVjb3JkIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgIC5ianktbWVudS1zd2l0Y2hlciB7CiAgICAgICAgcGFkZGluZzogMDsKCiAgICAgICAgLmJqeS1sYWJlbCB7CiAgICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiB1bnNldDsKICAgICAgICB9CgogICAgICAgICY6aG92ZXIgewogICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgIGNvbG9yOiAjYmRjNmNmOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLmJqeS1jbG91ZC1yZWNvcmQtaW5nOmFmdGVyIHsKICAgICAgICB0b3A6IDVweDsKICAgICAgICBsZWZ0OiAtN3B4OwogICAgICB9CiAgICB9CiAgfQoKICAuYmp5LXNwYWNlciB7CiAgICBtYXJnaW4tcmlnaHQ6IDIwMHB4OwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/FunctionPanel","sourcesContent":["<template>\n  <div class=\"function-panel\">\n    <div class=\"left\">\n      <div class=\"bjy-spacer\"></div>\n      <!-- 上下课 -->\n      <div v-if=\"!isStudent\" @click=\"toggleClassStart\">\n        {{ statusTip }}\n      </div>\n\n      <!-- 录制按钮 -->\n      <Record class=\"bjy-custom-record\" v-if=\"!isStudent\" />\n\n      <div v-if=\"!isStudent\" @click=\"toggleQuiz\">测验</div>\n\n      <div v-if=\"!isStudent\" @click=\"toggleAnswer\">答题器</div>\n\n      <div v-if=\"!isStudent\" @click=\"toggleMediaPlayer\">播放</div>\n\n      <div v-if=\"!isStudent\" @click=\"toggleRollCall\">点名</div>\n\n      <div v-if=\"!isStudent\" @click=\"toggleLottery\">抽奖</div>\n\n      <div v-if=\"!isStudent\" @click=\"toggleAttentionDetection\">专注度检测</div>\n    </div>\n\n    <div class=\"right\">\n      <!-- 举手菜单 -->\n      <div v-if=\"isStudent\" class=\"btn-wrap\">\n        <SpeakApplyMenu />\n      </div>\n\n      <!-- 屏幕分享菜单 -->\n      <div class=\"btn-wrap\">\n        <ShareScreenMenu />\n      </div>\n\n      <!-- 弹幕按钮 -->\n      <div @click=\"toggleBarrage()\" class=\"btn-wrap\">\n        <i v-if=\"isBarrageOn\" class=\"icon icon-barrage-on\"></i>\n        <i v-else class=\"icon icon-barrage-off\"></i>\n        {{ barrageState }}\n      </div>\n\n      <!-- 线路切换 -->\n      <select\n        class=\"cdn-node-list\"\n        v-if=\"cdnList.length > 1 && canSwitchCdn\"\n        v-model=\"currentNode\"\n        name=\"cdn\"\n        id=\"cdn-list\"\n      >\n        <option v-for=\"index in cdnList.length\" :key=\"index\" :value=\"index\">\n          {{ index | cdnListFilter }}\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\nimport SpeakApplyMenu from \"./SpeakApplyMenu\";\nimport ShareScreenMenu from \"./ShareScreenMenu\";\nimport Record from \"./Record\";\n\nlet store = BJY.store;\nlet eventEmitter = BJY.eventEmitter;\nlet auth = BJY.auth;\n\nexport default {\n  components: {\n    SpeakApplyMenu,\n    ShareScreenMenu,\n    Record,\n  },\n  data() {\n    return {\n      statusTip: \"\",\n      language: language,\n      isStudent: auth.isStudent(),\n      barrage: null,\n      isBarrageOn: false,\n      cdnList: [],\n      currentNode: 1,\n      canSwitchCdn: !BJY.auth.isWebRTC(),\n    };\n  },\n  computed: {\n    barrageState() {\n      return this.isBarrageOn ? language.BARRAGE_ON : language.BARRAGE_OFF;\n    },\n  },\n  watch: {\n    currentNode(newIndex, oldIndex) {\n      console.log(newIndex);\n      eventEmitter.trigger(eventEmitter.DOWNLINK_SERVER_NODE_CHANGE_TRIGGER, {\n        index: newIndex - 1,\n      });\n    },\n  },\n  filters: {\n    cdnListFilter(index) {\n      return \"线路\" + index;\n    },\n  },\n  methods: {\n    toggleClassStart() {\n      if (store.get(\"class.started\")) {\n        eventEmitter.trigger(eventEmitter.CLASS_END_TRIGGER);\n      } else {\n        eventEmitter.trigger(eventEmitter.CLASS_START_TRIGGER);\n      }\n    },\n    toggleBarrage() {\n      let isOpen = this.barrage.isOpened();\n      if (isOpen) {\n        this.barrage.close();\n        this.isBarrageOn = false;\n      } else {\n        this.barrage.open();\n        this.isBarrageOn = true;\n      }\n    },\n    toggleQuiz() {\n      eventEmitter.trigger(\"toggle_quiz_dialog\");\n    },\n    toggleAnswer() {\n      eventEmitter.trigger(\"toggle_answer_dialog\");\n    },\n    toggleMediaPlayer() {\n      eventEmitter.trigger(\"toggle_media_player\");\n    },\n    toggleRollCall() {\n      eventEmitter.trigger(\"toggle_roll_call\");\n    },\n    toggleLottery() {\n      eventEmitter.trigger(\"toggle_lottery\");\n    },\n    toggleAttentionDetection() {\n      eventEmitter.trigger(\"toggle_attention_detection\");\n    },\n  },\n  created() {\n    store.watch(\n      \"class.started\",\n      (started) => {\n        if (started) {\n          this.statusTip = language.CLASS_END;\n          this.$Toast(language.TIP_CLASS_START);\n        } else {\n          this.statusTip = language.CLASS_START;\n          this.$Toast(language.TIP_CLASS_END);\n        }\n        this.started = started;\n      },\n      true\n    );\n    // 获取k可用的cdn节点\n    this.cdnList = BJY.data.server.getLiveServerList();\n  },\n  mounted() {\n    // 调用 create 方法创建弹幕组件\n    // 弹幕组件不需要独立的容器，只需要在create中提供挂载的容器\n    this.barrage = new BJY.Barrage({\n      // 组件父容器\n      container: $(\".class-panel\"),\n      // 移动速度，每秒移动多少个像素\n      speed: 100,\n      // 最长可显示多少个字，超过这个字数的会过滤\n      maxLength: 20,\n      // 在 top - bottom 的区间出现弹幕\n      top: 30,\n      bottom: 30,\n      // 轨道高度\n      trackHeight: 30,\n      // 是否只显示文本消息\n      textOnly: false,\n      // 如果需要自定义弹幕内容，可实现此方法\n      renderContent: function (data) {\n        return data.content;\n      },\n    });\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\">\n//@import url(); 引入公共css类\n.function-panel {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n\n  .left,\n  .right {\n    display: flex;\n\n    & > * {\n      margin: 0 4px;\n      padding: 2px 12px;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n\n      &:hover {\n        border-radius: 4px;\n        background-color: rgba(255, 255, 255, 0.3);\n        color: #fff;\n        transition: all 0.3s;\n      }\n    }\n\n    .bjy-custom-record {\n      display: flex;\n      align-items: center;\n\n      .bjy-menu-switcher {\n        padding: 0;\n\n        .bjy-label {\n          margin-left: 0;\n          vertical-align: unset;\n        }\n\n        &:hover {\n          background: none;\n          color: #bdc6cf;\n        }\n      }\n\n      .bjy-cloud-record-ing:after {\n        top: 5px;\n        left: -7px;\n      }\n    }\n  }\n\n  .bjy-spacer {\n    margin-right: 200px;\n  }\n}\n</style>\n"]}]}