{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/AttentionDetection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/AttentionDetection.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsYW5ndWFnZSBmcm9tICIuLi8uLi9sYW5ndWFnZS9tYWluIjsKY29uc3QgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKY29uc3QgYXV0aCA9IEJKWS5hdXRoOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGlzU3R1ZGVudDogYXV0aC5pc1N0dWRlbnQoKSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvcGVuKCkgewogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8g5a2m55Sf56uv6ZyA6KaB55uR5ZCs5LqL5Lu2CiAgICBpZiAoYXV0aC5pc1N0dWRlbnQoKSkgewogICAgICBldmVudEVtaXR0ZXIub24oZXZlbnRFbWl0dGVyLkFUVEVOVElPTl9ERVRFQ1RJT05fQUxFUlQsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkgewogICAgICAgIGlmIChkYXRhLmNvbnRlbnQpIHsKICAgICAgICAgIGFsZXJ0KGRhdGEuY29udGVudCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIGV2ZW50RW1pdHRlci5vbigidG9nZ2xlX2F0dGVudGlvbl9kZXRlY3Rpb24iLCAoKSA9PiB7CiAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBCSlkuQXR0ZW50aW9uRGV0ZWN0aW9uLmNyZWF0ZSh7CiAgICAgIGVsZW1lbnQ6ICQoIiNhdHRlbnRpb24tZGV0ZWN0aW9uIC5wbGFjZWhvbGRlciIpLAogICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgc2tpbjogImxpZ2h0IiwKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHt9LAp9Owo="},{"version":3,"sources":["AttentionDetection.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttentionDetection.vue","sourceRoot":"src/components/ModalPanel","sourcesContent":["<!-- 答题器组件 -->\n<template>\n  <div v-show=\"visible && !isStudent\" id=\"attention-detection\">\n    <div class=\"close-bar\">\n      <span @click=\"close\" class=\"bjy-close\">X</span>\n    </div>\n    <div class=\"placeholder\"></div>\n  </div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\nconst eventEmitter = BJY.eventEmitter;\nconst auth = BJY.auth;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language,\n      visible: false,\n      isStudent: auth.isStudent(),\n    };\n  },\n  methods: {\n    open() {\n      this.visible = true;\n    },\n    close() {\n      this.visible = false;\n    },\n  },\n  created() {\n    // 学生端需要监听事件\n    if (auth.isStudent()) {\n      eventEmitter.on(eventEmitter.ATTENTION_DETECTION_ALERT, function (event, data) {\n        if (data.content) {\n          alert(data.content);\n        }\n      });\n    }\n    eventEmitter.on(\"toggle_attention_detection\", () => {\n      this.visible = !this.visible;\n    });\n  },\n  mounted() {\n    BJY.AttentionDetection.create({\n      element: $(\"#attention-detection .placeholder\"),\n      replace: false,\n      skin: \"light\",\n    });\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#attention-detection {\n  background: #fff;\n  min-width: 600px;\n\n  .close-bar {\n    background: #232323;\n    height: 30px;\n    text-align: right;\n\n    .bjy-close {\n      line-height: 30px;\n      color: #fff;\n      font-size: 20px;\n      margin-right: 16px;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"]}]}