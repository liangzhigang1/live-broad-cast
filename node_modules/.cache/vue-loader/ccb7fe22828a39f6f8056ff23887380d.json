{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/zixue/live-broad-cast/src/components/ModalPanel/RollCall.vue?vue&type=style&index=0&id=72abb0d3&lang=scss&scoped=true&","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/ModalPanel/RollCall.vue","mtime":1611227050000},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/css-loader/dist/cjs.js","mtime":1592792512947},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615566687412},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/postcss-loader/src/index.js","mtime":1584009011273},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/sass-loader/dist/cjs.js","mtime":1615566691505},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovL0BpbXBvcnQgdXJsKCk7IOW8leWFpeWFrOWFsWNzc+exuwo="},{"version":3,"sources":["RollCall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA","file":"RollCall.vue","sourceRoot":"src/components/ModalPanel","sourcesContent":["<!-- 点名组件实现： 点名没有独立的组件来实现，我们提供了一套事件驱动的点名系统 -->\n\n<template>\n  <div id=\"roll-call-dialog\"></div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\n\nlet auth = BJY.auth;\nlet eventEmitter = BJY.eventEmitter;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language: language,\n      status: 0,\n      isStudent: auth.isStudent(),\n      applyTimer: null,\n      timeLeft: \"\",\n      result: \"\",\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {},\n  created() {\n    eventEmitter.on(\n      eventEmitter.ROLL_CALL, // 老师发起了点名\n      (e, data) => {\n        this.timeLeft = data.duration;\n        this.$Dialog\n          .show({\n            title: \"点名\",\n            content: `请在<span id=\"roll-call-time-left\">${data.duration}</span>秒内响应`,\n            confirmText: \"答到\",\n          })\n          .then(() => {\n            eventEmitter.trigger(eventEmitter.ROLL_CALL_RES);\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n\n        this.applyTimer = setInterval(() => {\n          if (this.timeLeft === 0) {\n            clearInterval(this.applyTimer);\n            this.$Dialog.hide();\n          }\n          $(\"#roll-call-time-left\").text(this.timeLeft);\n          this.timeLeft--;\n        }, 1000);\n      }\n    );\n  },\n  mounted() {},\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n</style>\n"]}]}