{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/InteractionPanel/ActiveList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/InteractionPanel/ActiveList.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":1615566678361},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOiHquW3seaSreaUvuWZqAppbXBvcnQgU2VsZlBsYXllciBmcm9tICIuLi9TZWxmUGxheWVyIjsKY29uc3QgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKY29uc3QgYXV0aCA9IEJKWS5hdXRoOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhY3RpdmVMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBTZWxmUGxheWVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUxpc3Q6IG51bGwsCiAgICAgIG5vT25lU3BlYWtpbmc6IHRydWUsCiAgICAgIGlzVGVhY2hlcjogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7fSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pc1RlYWNoZXIgPSBhdXRoLmlzVGVhY2hlcigpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmlzVGVhY2hlcikgewogICAgICBjb25zdCBhY3RpdmVMaXN0ID0gQkpZLkFjdGl2ZUxpc3QuY3JlYXRlKHsKICAgICAgICBlbGVtZW50OiAkKCIjYWN0aXZlLWxpc3QgLnBsYWNlaG9sZGVyIiksIC8vIOeItuWuueWZqAogICAgICAgIGV4dGVuc2lvbjogQkpZLmdldEV4dGVuc2lvbigpLCAvLyDmkq3mlL7lmajmianlsZUKICAgICAgICB3aWR0aDogMjYwLCAvLyDniLblrrnlmajlrr3luqbvvIznlKjkuo7orqHnrpfmkq3mlL7lmajnmoTpq5jluqYKICAgICAgICByZXBsYWNlOiBmYWxzZSwgLy8g5piv5ZCm5pu/5o2i54i25a655Zmo5LiL55qEIERPTQogICAgICB9KTsKCiAgICAgIGV2ZW50RW1pdHRlci5vbigKICAgICAgICBldmVudEVtaXR0ZXIuQUNUSVZFX0xJU1RfUFJFU0VOVEVSX0NIQU5HRV9UUklHR0VSLAogICAgICAgIGZ1bmN0aW9uIChldmVudCwgZGF0YSkgewogICAgICAgICAgYWN0aXZlTGlzdC5jaGFuZ2VQcmVzZW50ZXIoZGF0YS5uZXdQcmVzZW50ZXIsIGRhdGEub2xkUHJlc2VudGVyKTsKICAgICAgICB9CiAgICAgICk7CgogICAgICBhY3RpdmVMaXN0LndhdGNoKCJ1c2VyTGlzdC5sZW5ndGgiLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7CiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSAwKSB7CiAgICAgICAgICB0aGlzLm5vT25lU3BlYWtpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ub09uZVNwZWFraW5nID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgQkpZLkFwcGx5TGlzdC5jcmVhdGUoewogICAgICAgIGVsZW1lbnQ6ICQoIi5ianktYXBwbHktbGlzdCAucGxhY2Vob2xkZXIiKSwgLy8g57uE5Lu254i25a655ZmoCiAgICAgICAgcmVwbGFjZTogZmFsc2UsIC8vIOaYr+WQpuabv+aNoueItuWuueWZqOS4i+eahCBET00KICAgICAgfSk7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["ActiveList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ActiveList.vue","sourceRoot":"src/components/InteractionPanel","sourcesContent":["<template>\n  <div id=\"active\" :class=\"{ empty: noOneSpeaking }\">\n    <div v-if=\"isTeacher\" id=\"active-list\">\n      <div class=\"placeholder\"></div>\n    </div>\n\n    <!-- 申请列表 -->\n    <div v-if=\"isTeacher\" class=\"bjy-apply-list\">\n      <div class=\"placeholder\"></div>\n    </div>\n\n    <!-- 自己播放器 -->\n    <div v-else class=\"live-self-player\">\n      <SelfPlayer />\n    </div>\n  </div>\n</template>\n\n<script>\n// 自己播放器\nimport SelfPlayer from \"../SelfPlayer\";\nconst eventEmitter = BJY.eventEmitter;\nconst auth = BJY.auth;\n\nexport default {\n  name: \"activeList\",\n  components: {\n    SelfPlayer,\n  },\n  data() {\n    return {\n      activeList: null,\n      noOneSpeaking: true,\n      isTeacher: false,\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {},\n  created() {\n    this.isTeacher = auth.isTeacher();\n  },\n  mounted() {\n    if (this.isTeacher) {\n      const activeList = BJY.ActiveList.create({\n        element: $(\"#active-list .placeholder\"), // 父容器\n        extension: BJY.getExtension(), // 播放器扩展\n        width: 260, // 父容器宽度，用于计算播放器的高度\n        replace: false, // 是否替换父容器下的 DOM\n      });\n\n      eventEmitter.on(\n        eventEmitter.ACTIVE_LIST_PRESENTER_CHANGE_TRIGGER,\n        function (event, data) {\n          activeList.changePresenter(data.newPresenter, data.oldPresenter);\n        }\n      );\n\n      activeList.watch(\"userList.length\", (newValue, oldValue) => {\n        if (newValue !== 0) {\n          this.noOneSpeaking = false;\n        } else {\n          this.noOneSpeaking = true;\n        }\n      });\n\n      BJY.ApplyList.create({\n        element: $(\".bjy-apply-list .placeholder\"), // 组件父容器\n        replace: false, // 是否替换父容器下的 DOM\n      });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n//@import url(); 引入公共css类\n#active {\n  .live-self-player {\n    height: 200px;\n    width: 266px;\n    position: absolute;\n    bottom: 0;\n    transition: 0.2s bottom;\n  }\n  & > .hide {\n    bottom: -200px !important;\n  }\n\n  & > .hide .bjy-fold-bar {\n    top: -24px !important;\n  }\n\n  & > .hide .bjy-fold-bar .bjy-fold-toggle {\n    background: #424242 !important;\n  }\n}\n.empty {\n  height: 100%;\n  width: 100%;\n  background: url(\"../../assets/img/active-user-list-empty.png\") center center no-repeat;\n}\n</style>\n"]}]}