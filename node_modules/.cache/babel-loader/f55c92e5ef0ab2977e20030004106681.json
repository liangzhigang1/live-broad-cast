{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js!/Users/liangzg/zixue/live-broad-cast/src/components/common/Dialog/dialog.js","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/common/Dialog/dialog.js","mtime":1605612844000},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js","mtime":1615566678361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2xpYW5nemcveml4dWUvbGl2ZS1icm9hZC1jYXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGRpYWxvZyBmcm9tICcuL0RpYWxvZy52dWUnOwp2YXIgRGlhbG9nID0ge307CgpEaWFsb2cuaW5zdGFsbCA9IGZ1bmN0aW9uIChWdWUsIG9wdGlvbnMpIHsKICB2YXIgRGlhbG9nSW5zdGFuY2UgPSBWdWUuZXh0ZW5kKGRpYWxvZyk7CiAgdmFyIGN1cnJlbnREaWFsb2c7CgogIHZhciBpbml0SW5zdGFuY2UgPSBmdW5jdGlvbiBpbml0SW5zdGFuY2UoKSB7CiAgICBjdXJyZW50RGlhbG9nID0gbmV3IERpYWxvZ0luc3RhbmNlKCk7CiAgICB2YXIgZGlhbG9nRWwgPSBjdXJyZW50RGlhbG9nLiRtb3VudCgpLiRlbDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlhbG9nRWwpOwogIH07CgogIFZ1ZS5wcm90b3R5cGUuJERpYWxvZyA9IHsKICAgIHNob3c6IGZ1bmN0aW9uIHNob3cob3B0aW9ucykgewogICAgICBpZiAoIWN1cnJlbnREaWFsb2cpIHsKICAgICAgICBpbml0SW5zdGFuY2UoKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykgewogICAgICAgIGN1cnJlbnREaWFsb2cuY29udGVudCA9IG9wdGlvbnM7CiAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihvcHRpb25zKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnREaWFsb2csIG9wdGlvbnMpOwogICAgICB9CgogICAgICByZXR1cm4gY3VycmVudERpYWxvZy5zaG93KCkudGhlbihmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgY3VycmVudERpYWxvZyA9IG51bGw7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWwpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgY3VycmVudERpYWxvZyA9IG51bGw7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIGlmICghY3VycmVudERpYWxvZykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcmV0dXJuIGN1cnJlbnREaWFsb2cuY2FuY2VsKCk7CiAgICB9CiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IERpYWxvZzs="},{"version":3,"sources":["/Users/liangzg/zixue/live-broad-cast/src/components/common/Dialog/dialog.js"],"names":["dialog","Dialog","install","Vue","options","DialogInstance","extend","currentDialog","initInstance","dialogEl","$mount","$el","document","body","appendChild","prototype","$Dialog","show","content","Object","assign","then","val","Promise","resolve","reject","hide","cancel"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,cAAnB;AAEA,IAAMC,MAAM,GAAG,EAAf;;AAEAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACvC,MAAMC,cAAc,GAAGF,GAAG,CAACG,MAAJ,CAAWN,MAAX,CAAvB;AACA,MAAIO,aAAJ;;AACA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBD,IAAAA,aAAa,GAAG,IAAIF,cAAJ,EAAhB;AACA,QAAII,QAAQ,GAAGF,aAAa,CAACG,MAAd,GAAuBC,GAAtC;AACAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BL,QAA1B;AACD,GAJD;;AAMAN,EAAAA,GAAG,CAACY,SAAJ,CAAcC,OAAd,GAAwB;AACtBC,IAAAA,IADsB,gBAChBb,OADgB,EACP;AACb,UAAI,CAACG,aAAL,EAAoB;AAClBC,QAAAA,YAAY;AACb;;AAED,UAAI,OAAOJ,OAAP,KAAmB,QAAvB,EAAiC;AAC/BG,QAAAA,aAAa,CAACW,OAAd,GAAwBd,OAAxB;AACD,OAFD,MAEO,IAAI,QAAOA,OAAP,MAAmB,QAAvB,EAAiC;AACtCe,QAAAA,MAAM,CAACC,MAAP,CAAcb,aAAd,EAA6BH,OAA7B;AACD;;AAED,aAAOG,aAAa,CAACU,IAAd,GAAqBI,IAArB,CAA0B,UAAAC,GAAG,EAAI;AACtCf,QAAAA,aAAa,GAAG,IAAhB;AACA,eAAOgB,OAAO,CAACC,OAAR,CAAgBF,GAAhB,CAAP;AACD,OAHM,WAGE,UAAAA,GAAG,EAAI;AACdf,QAAAA,aAAa,GAAG,IAAhB;AACA,eAAOgB,OAAO,CAACE,MAAR,CAAeH,GAAf,CAAP;AACD,OANM,CAAP;AAOD,KAnBqB;AAoBtBI,IAAAA,IApBsB,kBAoBd;AACN,UAAI,CAACnB,aAAL,EAAoB;AAClB;AACD;;AACD,aAAOA,aAAa,CAACoB,MAAd,EAAP;AACD;AAzBqB,GAAxB;AA2BD,CApCD;;AAsCA,eAAe1B,MAAf","sourcesContent":["import dialog from './Dialog.vue'\n\nconst Dialog = {}\n\nDialog.install = function (Vue, options) {\n  const DialogInstance = Vue.extend(dialog)\n  let currentDialog\n  const initInstance = () => {\n    currentDialog = new DialogInstance()\n    let dialogEl = currentDialog.$mount().$el\n    document.body.appendChild(dialogEl)\n  }\n\n  Vue.prototype.$Dialog = {\n    show (options) {\n      if (!currentDialog) {\n        initInstance()\n      }\n\n      if (typeof options === 'string') {\n        currentDialog.content = options\n      } else if (typeof options === 'object') {\n        Object.assign(currentDialog, options)\n      }\n\n      return currentDialog.show().then(val => {\n        currentDialog = null\n        return Promise.resolve(val)\n      }).catch(val => {\n        currentDialog = null\n        return Promise.reject(val)\n      })\n    },\n    hide () {\n      if (!currentDialog) {\n        return\n      }\n      return currentDialog.cancel()\n    }\n  }\n}\n\nexport default Dialog\n"]}]}