{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/InteractionPanel/UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/InteractionPanel/UserList.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCmltcG9ydCB1c2VyUm9sZU1hcCBmcm9tICIuL2NvbW1vbi9yb2xlTWFwIjsKdmFyIGF1dGggPSBCSlkuYXV0aDsKdmFyIGNvbmZpZyA9IEJKWS5jb25maWc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckxheWVySW5zdGFuY2U6IG51bGwsCiAgICAgIGxhc3RVc2VyOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDnlJ/miJDmta7lsYIKICAgIHNldExheWVyOiBmdW5jdGlvbiBzZXRMYXllcih1c2VQYXJhbWV0ZXJVc2VyLCBlKSB7CiAgICAgIHZhciBlbGUgPSAkKCIuYmp5LXVzZXItbGF5ZXIiKTsKCiAgICAgIGlmICghdGhpcy51c2VyTGF5ZXJJbnN0YW5jZSB8fCB0aGlzLnVzZXJMYXllckluc3RhbmNlICYmICFlbGVbMF0pIHsKICAgICAgICBpZiAodGhpcy51c2VyTGF5ZXJJbnN0YW5jZSAmJiAhZWxlWzBdKSB7CiAgICAgICAgICB0aGlzLnVzZXJMYXllckluc3RhbmNlLmRlc3Ryb3koKTsKICAgICAgICB9CgogICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgJCgiI2FwcCIpLmFwcGVuZChub2RlKTsKICAgICAgICB0aGlzLnVzZXJMYXllckluc3RhbmNlID0gQkpZLlVzZXJMYXllci5jcmVhdGUoewogICAgICAgICAgdXNlcjogdGhpcy5sYXN0VXNlciwKICAgICAgICAgIGVsZW1lbnQ6ICQobm9kZSksCiAgICAgICAgICByZW5kZXJVc2VyOiBmdW5jdGlvbiByZW5kZXJVc2VyKHVzZXIsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpZDogdXNlci5pZCwKICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsCiAgICAgICAgICAgICAgbnVtYmVyOiB1c2VyLm51bWJlciwKICAgICAgICAgICAgICAvLyDlpLTlg4/pnIDljovnvKkKICAgICAgICAgICAgICBhdmF0YXI6IEJKWS5jb21wcmVzc0ltYWdlKHsKICAgICAgICAgICAgICAgIHVybDogdXNlci5hdmF0YXIsCiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIGF2YXRhcjJ4OiBCSlkuY29tcHJlc3NJbWFnZSh7CiAgICAgICAgICAgICAgICB1cmw6IHVzZXIuYXZhdGFyLAogICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICogMiwKICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICogMgogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIC8vIOagueaNrueUqOaIt+exu+Wei++8jOmFjee9ruinkuiJsueahOiLseaWh+WSjOacrOWcsOivreiogAogICAgICAgICAgICAgIHJvbGU6IHVzZXJSb2xlTWFwW3VzZXIudHlwZV0uZW4sCiAgICAgICAgICAgICAgbG9jYWxSb2xlOiB1c2VyUm9sZU1hcFt1c2VyLnR5cGVdLmNuCiAgICAgICAgICAgIH07CiAgICAgICAgICB9LAogICAgICAgICAgdXNlUGFyYW1ldGVyVXNlcjogdXNlUGFyYW1ldGVyVXNlciwKICAgICAgICAgIHNwZWFrSW52aXRlVGltZW91dDogMTAgKiAxMDAwLAogICAgICAgICAgc2V0TWVkaWFUaW1lb3V0OiAxMCAqIDEwMDAsCiAgICAgICAgICBoYXNTd2l0Y2hQYWludDogZnVuY3Rpb24gaGFzU3dpdGNoUGFpbnQodXNlcikgewogICAgICAgICAgICBpZiAoYXV0aC5pc1RlYWNoZXIoKSB8fCBhdXRoLmlzQXNzaXN0YW50KCkpIHsKICAgICAgICAgICAgICBpZiAoYXV0aC5pc1N0dWRlbnQodXNlci50eXBlKSkgewogICAgICAgICAgICAgICAgaWYgKHVzZXIuZW5kVHlwZSA9PT0gY29uZmlnLkVORF9UWVBFX01PQklMRV9CUk9XU0VSIHx8IHVzZXIuZW5kVHlwZSA9PT0gY29uZmlnLkVORF9UWVBFX1hJQU9DSEVOR1hVKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0gLy8g5aSn54+t6K++5a2m55Sf5rKh5pyJ5LiK6bqm5bCx5LiN6KaB5pyJ5o6I5p2D55S756yU55qE5oyJ6ZKu5LqGCgoKICAgICAgICAgICAgICAgIGlmICghdXNlci52aWRlb09uICYmICF1c2VyLmF1ZGlvT24pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSwKICAgICAgICAgIGhhc1N3aXRjaERvY3VtZW50Q29udHJvbDogZnVuY3Rpb24gaGFzU3dpdGNoRG9jdW1lbnRDb250cm9sKHVzZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSwKICAgICAgICAgIG9uS2lja091dENvbmZpcm06IGZ1bmN0aW9uIG9uS2lja091dENvbmZpcm0oZGVmZXJyZWQsIHVzZXIsIGNvbnRlbnQpIHsKICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCfnoa7lrpropoHlsIbor6XlrabnlJ/ouKLlh7rmlZnlrqTlkJfvvJ8nKSkgewogICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGZhbHNlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXNlckxheWVySW5zdGFuY2Uuc2V0KCJ1c2VQYXJhbWV0ZXJVc2VyIiwgdXNlUGFyYW1ldGVyVXNlcik7CiAgICAgICAgdGhpcy51c2VyTGF5ZXJJbnN0YW5jZS5zZXQoInVzZXIiLCB0aGlzLmxhc3RVc2VyKTsKICAgICAgfQoKICAgICAgJCgiLmJqeS11c2VyLWxheWVyIikuY3NzKHsKICAgICAgICB0b3A6IGUub3JpZ2luYWxFdmVudC5jbGllbnRZICsgMTAgKyAicHgiLAogICAgICAgIGxlZnQ6IGUub3JpZ2luYWxFdmVudC5jbGllbnRYIC0gMTUwICsgInB4IgogICAgICB9KTsKICAgICAgJCgiLmJqeS11c2VyLWxheWVyIikudG9nZ2xlKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGV2ZW50RW1pdHRlciA9IEJKWS5ldmVudEVtaXR0ZXI7IC8vIOebkeWQrOS6uuaVsOWPmOWMlgoKICAgIGV2ZW50RW1pdHRlci5vbihldmVudEVtaXR0ZXIuVVNFUl9DT1VOVF9DSEFOR0UsIGZ1bmN0aW9uIChlLCBkYXRhKSB7CiAgICAgICQoIiN1c2VyLWNvdW50IikudGV4dCgiKCIgKyBkYXRhLnVzZXJDb3VudCArICIpIik7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBCSlkuVXNlckxpc3QuY3JlYXRlKHsKICAgICAgZWxlbWVudDogJCgiI3VzZXItbGlzdCIpLAogICAgICByZW5kZXJVc2VyOiBmdW5jdGlvbiByZW5kZXJVc2VyKHVzZXIsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IHVzZXIuaWQsCiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsCiAgICAgICAgICBudW1iZXI6IHVzZXIubnVtYmVyLAogICAgICAgICAgLy8g5aS05YOP6ZyA5Y6L57ypCiAgICAgICAgICBhdmF0YXI6IEJKWS5jb21wcmVzc0ltYWdlKHsKICAgICAgICAgICAgdXJsOiB1c2VyLmF2YXRhciwKICAgICAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICAgICAgfSksCiAgICAgICAgICBhdmF0YXIyeDogQkpZLmNvbXByZXNzSW1hZ2UoewogICAgICAgICAgICB1cmw6IHVzZXIuYXZhdGFyLAogICAgICAgICAgICB3aWR0aDogd2lkdGggKiAyLAogICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIDIKICAgICAgICAgIH0pLAogICAgICAgICAgLy8g5qC55o2u55So5oi357G75Z6L77yM6YWN572u6KeS6Imy55qE6Iux5paH5ZKM5pys5Zyw6K+t6KiACiAgICAgICAgICByb2xlOiB1c2VyUm9sZU1hcFt1c2VyLnR5cGVdLmVuLAogICAgICAgICAgbG9jYWxSb2xlOiB1c2VyUm9sZU1hcFt1c2VyLnR5cGVdLmNuCiAgICAgICAgfTsKICAgICAgfQogICAgfSk7IC8vIOiAgeW4iOerr+WcqOeUqOaIt+WIl+ihqOeUn+aIkOaTjeS9nOa1ruWxggoKICAgIGlmIChCSlkuYXV0aC5pc1RlYWNoZXIoKSkgewogICAgICAvLyDmmK/lkKblhYHorrjpgoDor7fkuIrpuqYKICAgICAgQkpZLmF1dGguY2FuU3BlYWtJbnZpdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuIEJKWS5hdXRoLmlzVGVhY2hlcigpICYmICh0YXJnZXQgPyAhdGFyZ2V0Lmdyb3VwIDogdHJ1ZSk7CiAgICAgIH07IC8vIOaYr+WQpuWFgeiuuOW8uuWItuWPkeiogO+8iOS4jumCgOivt+WPkeiogOS6kuaWpe+8iQoKCiAgICAgIEJKWS5hdXRoLmNhblNwZWFrRm9yY2UgPSBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyDnu4TlhoXnlKjmiLfkuI3lhYHorrjooqvlvLrliLblj5HoqIAKCiAgICAgICAgcmV0dXJuIEJKWS5hdXRoLmlzVGVhY2hlcigpICYmICh0YXJnZXQgPyAhdGFyZ2V0Lmdyb3VwIDogdHJ1ZSk7CiAgICAgIH07CgogICAgICAkKCIudXNlci1saXN0IikuZGVsZWdhdGUoIi5ianktdXNlci1pdGVtIiwgImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB2YXIgbnVtYmVyID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubnVtYmVyOwogICAgICAgIHZhciB1c2VyID0gQkpZLmRhdGEudXNlci5maW5kQnlOdW1iZXIobnVtYmVyKTsgLy8gdXNlcuS4jeWtmOWcqOWIsOacjeWKoeWZqOiOt+WPlgoKICAgICAgICBpZiAoIXVzZXIpIHsKICAgICAgICAgIGV2ZW50RW1pdHRlci5vbmUoZXZlbnRFbWl0dGVyLlVTRVJfU0VBUkNIX1JFUywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdXNlciA9IGRhdGEucmVzdWx0WzBdOwogICAgICAgICAgICAgIEJKWS5kYXRhLnVzZXIuYWRkKHVzZXIpOwogICAgICAgICAgICAgIG1lLmxhc3RVc2VyID0gdXNlcjsKICAgICAgICAgICAgICBtZS5zZXRMYXllcihmYWxzZSwgZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLlVTRVJfU0VBUkNIX1JFUSwgewogICAgICAgICAgICBxdWVyeTogdXNlck51bWJlciwKICAgICAgICAgICAgZmllbGQ6ICJudW1iZXIiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbWUubGFzdFVzZXIgPSB1c2VyOwogICAgICAgICAgbWUuc2V0TGF5ZXIoZmFsc2UsIGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICQoIiNhcHAiKS5kZWxlZ2F0ZSgiLmJqeS11c2VyLWxheWVyIiwgImNsaWNrIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgICAkKCIjYXBwIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICQoIi5ianktdXNlci1sYXllciIpICYmICQoIi5ianktdXNlci1sYXllciIpLmhpZGUoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyDlrabnlJ/nq6/mjqXmlLbpgoDor7flj5HoqIDkv6Hku6QKICAgICAgdmFyIHVzZXJTcGVhayA9IEJKWS51c2VyU3BlYWs7CiAgICAgIGV2ZW50RW1pdHRlci5vbihldmVudEVtaXR0ZXIuU1BFQUtfSU5WSVRFX0NPTkZJUk0sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmVzID0gY29uZmlybSgi6ICB5biI6YKA6K+35L2g5LiK6bqm5Y+R6KiAIik7CgogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHVzZXJTcGVhay5wcm9jZXNzSW52aXRlKHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1c2VyU3BlYWsucHJvY2Vzc0ludml0ZShmYWxzZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7fQp9Ow=="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;AAKA,OAAA,WAAA,MAAA,kBAAA;AACA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,IAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,QAAA,EAAA,EARA;AASA,EAAA,KAAA,EAAA,EATA;AAUA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,oBAEA,gBAFA,EAEA,CAFA,EAEA;AACA,UAAA,GAAA,GAAA,CAAA,CAAA,iBAAA,CAAA;;AACA,UAAA,CAAA,KAAA,iBAAA,IAAA,KAAA,iBAAA,IAAA,CAAA,GAAA,CAAA,CAAA,CAAA,EAAA;AACA,YAAA,KAAA,iBAAA,IAAA,CAAA,GAAA,CAAA,CAAA,CAAA,EAAA;AACA,eAAA,iBAAA,CAAA,OAAA;AACA;;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AACA,QAAA,CAAA,CAAA,MAAA,CAAA,CAAA,MAAA,CAAA,IAAA;AACA,aAAA,iBAAA,GAAA,GAAA,CAAA,SAAA,CAAA,MAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,QADA;AAEA,UAAA,OAAA,EAAA,CAAA,CAAA,IAAA,CAFA;AAGA,UAAA,UAAA,EAAA,oBAAA,IAAA,EAAA,KAAA,EAAA,MAAA,EAAA;AACA,mBAAA;AACA,cAAA,EAAA,EAAA,IAAA,CAAA,EADA;AAEA,cAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,cAAA,MAAA,EAAA,IAAA,CAAA,MAHA;AAIA;AACA,cAAA,MAAA,EAAA,GAAA,CAAA,aAAA,CAAA;AACA,gBAAA,GAAA,EAAA,IAAA,CAAA,MADA;AAEA,gBAAA,KAAA,EAAA,KAFA;AAGA,gBAAA,MAAA,EAAA;AAHA,eAAA,CALA;AAUA,cAAA,QAAA,EAAA,GAAA,CAAA,aAAA,CAAA;AACA,gBAAA,GAAA,EAAA,IAAA,CAAA,MADA;AAEA,gBAAA,KAAA,EAAA,KAAA,GAAA,CAFA;AAGA,gBAAA,MAAA,EAAA,MAAA,GAAA;AAHA,eAAA,CAVA;AAeA;AACA,cAAA,IAAA,EAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAhBA;AAiBA,cAAA,SAAA,EAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AAjBA,aAAA;AAmBA,WAvBA;AAwBA,UAAA,gBAAA,EAAA,gBAxBA;AAyBA,UAAA,kBAAA,EAAA,KAAA,IAzBA;AA0BA,UAAA,eAAA,EAAA,KAAA,IA1BA;AA2BA,UAAA,cAAA,EAAA,wBAAA,IAAA,EAAA;AACA,gBAAA,IAAA,CAAA,SAAA,MAAA,IAAA,CAAA,WAAA,EAAA,EAAA;AACA,kBAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,oBACA,IAAA,CAAA,OAAA,KAAA,MAAA,CAAA,uBAAA,IACA,IAAA,CAAA,OAAA,KAAA,MAAA,CAAA,oBAFA,EAGA;AACA,yBAAA,KAAA;AACA,iBANA,CAOA;;;AACA,oBAAA,CAAA,IAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,yBAAA,KAAA;AACA;;AACA,uBAAA,IAAA;AACA;AACA;;AACA,mBAAA,KAAA;AACA,WA5CA;AA6CA,UAAA,wBAAA,EAAA,kCAAA,IAAA,EAAA;AACA,mBAAA,KAAA;AACA,WA/CA;AAgDA,UAAA,gBAAA,EAAA,0BAAA,QAAA,EAAA,IAAA,EAAA,OAAA,EAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,EAAA;AACA,cAAA,QAAA,CAAA,OAAA,CAAA,IAAA;AACA,aAFA,MAEA;AACA,cAAA,QAAA,CAAA,MAAA,CAAA,KAAA;AACA;;AACA,mBAAA,QAAA;AACA;AAvDA,SAAA,CAAA;AAyDA,OA/DA,MA+DA;AACA,aAAA,iBAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,gBAAA;AACA,aAAA,iBAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,QAAA;AACA;;AACA,MAAA,CAAA,CAAA,iBAAA,CAAA,CAAA,GAAA,CAAA;AACA,QAAA,GAAA,EAAA,CAAA,CAAA,aAAA,CAAA,OAAA,GAAA,EAAA,GAAA,IADA;AAEA,QAAA,IAAA,EAAA,CAAA,CAAA,aAAA,CAAA,OAAA,GAAA,GAAA,GAAA;AAFA,OAAA;AAKA,MAAA,CAAA,CAAA,iBAAA,CAAA,CAAA,MAAA;AACA;AA7EA,GAVA;AAyFA,EAAA,OAzFA,qBAyFA;AACA,QAAA,YAAA,GAAA,GAAA,CAAA,YAAA,CADA,CAEA;;AACA,IAAA,YAAA,CAAA,EAAA,CAAA,YAAA,CAAA,iBAAA,EAAA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,CAAA,CAAA,aAAA,CAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,SAAA,GAAA,GAAA;AACA,KAFA;AAGA,GA/FA;AAgGA,EAAA,OAhGA,qBAgGA;AACA,QAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AACA,QAAA,EAAA,GAAA,IAAA;AAEA,IAAA,GAAA,CAAA,QAAA,CAAA,MAAA,CAAA;AACA,MAAA,OAAA,EAAA,CAAA,CAAA,YAAA,CADA;AAEA,MAAA,UAAA,EAAA,oBAAA,IAAA,EAAA,KAAA,EAAA,MAAA,EAAA;AACA,eAAA;AACA,UAAA,EAAA,EAAA,IAAA,CAAA,EADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,UAAA,MAAA,EAAA,IAAA,CAAA,MAHA;AAIA;AACA,UAAA,MAAA,EAAA,GAAA,CAAA,aAAA,CAAA;AACA,YAAA,GAAA,EAAA,IAAA,CAAA,MADA;AAEA,YAAA,KAAA,EAAA,KAFA;AAGA,YAAA,MAAA,EAAA;AAHA,WAAA,CALA;AAUA,UAAA,QAAA,EAAA,GAAA,CAAA,aAAA,CAAA;AACA,YAAA,GAAA,EAAA,IAAA,CAAA,MADA;AAEA,YAAA,KAAA,EAAA,KAAA,GAAA,CAFA;AAGA,YAAA,MAAA,EAAA,MAAA,GAAA;AAHA,WAAA,CAVA;AAeA;AACA,UAAA,IAAA,EAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAhBA;AAiBA,UAAA,SAAA,EAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AAjBA,SAAA;AAmBA;AAtBA,KAAA,EAJA,CA6BA;;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,SAAA,EAAA,EAAA;AACA;AACA,MAAA,GAAA,CAAA,IAAA,CAAA,cAAA,GAAA,UAAA,MAAA,EAAA;AACA,eAAA,GAAA,CAAA,IAAA,CAAA,SAAA,OAAA,MAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA;AACA,OAFA,CAFA,CAMA;;;AACA,MAAA,GAAA,CAAA,IAAA,CAAA,aAAA,GAAA,UAAA,MAAA,EAAA;AACA,eAAA,KAAA,CADA,CAEA;;AACA,eAAA,GAAA,CAAA,IAAA,CAAA,SAAA,OAAA,MAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA;AACA,OAJA;;AAKA,MAAA,CAAA,CAAA,YAAA,CAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,eAAA;AACA,YAAA,MAAA,GAAA,CAAA,CAAA,aAAA,CAAA,OAAA,CAAA,MAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA,CAAA,MAAA,CAAA,CAHA,CAIA;;AACA,YAAA,CAAA,IAAA,EAAA;AACA,UAAA,YAAA,CAAA,GAAA,CAAA,YAAA,CAAA,eAAA,EAAA,UAAA,KAAA,EAAA,IAAA,EAAA;AACA,gBAAA,IAAA,CAAA,MAAA,IAAA,IAAA,CAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA,cAAA,EAAA,CAAA,QAAA,GAAA,IAAA;AACA,cAAA,EAAA,CAAA,QAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA,WAPA;AAQA,UAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,eAAA,EAAA;AACA,YAAA,KAAA,EAAA,UADA;AAEA,YAAA,KAAA,EAAA;AAFA,WAAA;AAIA,SAbA,MAaA;AACA,UAAA,EAAA,CAAA,QAAA,GAAA,IAAA;AACA,UAAA,EAAA,CAAA,QAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA,OAtBA;AAwBA,MAAA,CAAA,CAAA,MAAA,CAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,OAAA,EAAA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,eAAA;AACA,OAFA;AAIA,MAAA,CAAA,CAAA,MAAA,CAAA,CAAA,KAAA,CAAA,YAAA;AACA,QAAA,CAAA,CAAA,iBAAA,CAAA,IAAA,CAAA,CAAA,iBAAA,CAAA,CAAA,IAAA,EAAA;AACA,OAFA;AAGA,KA3CA,MA2CA;AACA;AACA,UAAA,SAAA,GAAA,GAAA,CAAA,SAAA;AACA,MAAA,YAAA,CAAA,EAAA,CAAA,YAAA,CAAA,oBAAA,EAAA,YAAA;AACA,YAAA,GAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,YAAA,GAAA,EAAA;AACA,UAAA,SAAA,CAAA,aAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,SAAA,CAAA,aAAA,CAAA,KAAA;AACA;AACA,OAPA;AAQA;AACA,GArLA;AAsLA,EAAA,aAtLA,2BAsLA,CAAA;AAtLA,CAAA","sourcesContent":["<template>\n  <div id=\"user-list\"></div>\n</template>\n\n<script>\nimport userRoleMap from \"./common/roleMap\";\nlet auth = BJY.auth;\nlet config = BJY.config;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      userLayerInstance: null,\n      lastUser: null,\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    // 生成浮层\n    setLayer(useParameterUser, e) {\n      let ele = $(\".bjy-user-layer\");\n      if (!this.userLayerInstance || (this.userLayerInstance && !ele[0])) {\n        if (this.userLayerInstance && !ele[0]) {\n          this.userLayerInstance.destroy();\n        }\n        let node = document.createElement(\"div\");\n        $(\"#app\").append(node);\n        this.userLayerInstance = BJY.UserLayer.create({\n          user: this.lastUser,\n          element: $(node),\n          renderUser: function (user, width, height) {\n            return {\n              id: user.id,\n              name: user.name,\n              number: user.number,\n              // 头像需压缩\n              avatar: BJY.compressImage({\n                url: user.avatar,\n                width: width,\n                height: height,\n              }),\n              avatar2x: BJY.compressImage({\n                url: user.avatar,\n                width: width * 2,\n                height: height * 2,\n              }),\n              // 根据用户类型，配置角色的英文和本地语言\n              role: userRoleMap[user.type].en,\n              localRole: userRoleMap[user.type].cn,\n            };\n          },\n          useParameterUser: useParameterUser,\n          speakInviteTimeout: 10 * 1000,\n          setMediaTimeout: 10 * 1000,\n          hasSwitchPaint: function (user) {\n            if (auth.isTeacher() || auth.isAssistant()) {\n              if (auth.isStudent(user.type)) {\n                if (\n                  user.endType === config.END_TYPE_MOBILE_BROWSER ||\n                  user.endType === config.END_TYPE_XIAOCHENGXU\n                ) {\n                  return false;\n                }\n                // 大班课学生没有上麦就不要有授权画笔的按钮了\n                if (!user.videoOn && !user.audioOn) {\n                  return false;\n                }\n                return true;\n              }\n            }\n            return false;\n          },\n          hasSwitchDocumentControl: function (user) {\n            return false;\n          },\n          onKickOutConfirm: function (deferred, user, content) {\n              if (window.confirm('确定要将该学生踢出教室吗？')) {\n                  deferred.resolve(true)\n                } else {\n                  deferred.reject(false)\n                }\n                return deferred;\n          }\n        });\n      } else {\n        this.userLayerInstance.set(\"useParameterUser\", useParameterUser);\n        this.userLayerInstance.set(\"user\", this.lastUser);\n      }\n      $(\".bjy-user-layer\").css({\n        top: e.originalEvent.clientY + 10 + \"px\",\n        left: e.originalEvent.clientX - 150 + \"px\",\n      });\n\n      $(\".bjy-user-layer\").toggle();\n    },\n  },\n  created() {\n    let eventEmitter = BJY.eventEmitter;\n    // 监听人数变化\n    eventEmitter.on(eventEmitter.USER_COUNT_CHANGE, function (e, data) {\n      $(\"#user-count\").text(\"(\" + data.userCount + \")\");\n    });\n  },\n  mounted() {\n    let eventEmitter = BJY.eventEmitter;\n    let me = this;\n\n    BJY.UserList.create({\n      element: $(\"#user-list\"),\n      renderUser: function (user, width, height) {\n        return {\n          id: user.id,\n          name: user.name,\n          number: user.number,\n          // 头像需压缩\n          avatar: BJY.compressImage({\n            url: user.avatar,\n            width: width,\n            height: height,\n          }),\n          avatar2x: BJY.compressImage({\n            url: user.avatar,\n            width: width * 2,\n            height: height * 2,\n          }),\n          // 根据用户类型，配置角色的英文和本地语言\n          role: userRoleMap[user.type].en,\n          localRole: userRoleMap[user.type].cn,\n        };\n      },\n    });\n\n    // 老师端在用户列表生成操作浮层\n    if (BJY.auth.isTeacher()) {\n      // 是否允许邀请上麦\n      BJY.auth.canSpeakInvite = function (target) {\n        return BJY.auth.isTeacher() && (target ? !target.group : true);\n      };\n\n      // 是否允许强制发言（与邀请发言互斥）\n      BJY.auth.canSpeakForce = function (target) {\n        return false;\n        // 组内用户不允许被强制发言\n        return BJY.auth.isTeacher() && (target ? !target.group : true);\n      };\n      $(\".user-list\").delegate(\".bjy-user-item\", \"click\", function (e) {\n        event.stopPropagation();\n        let number = e.currentTarget.dataset.number;\n        let user = BJY.data.user.findByNumber(number);\n        // user不存在到服务器获取\n        if (!user) {\n          eventEmitter.one(eventEmitter.USER_SEARCH_RES, function (event, data) {\n            if (data.result && data.result.length > 0) {\n              user = data.result[0];\n              BJY.data.user.add(user);\n              me.lastUser = user;\n              me.setLayer(false, e);\n            }\n          });\n          eventEmitter.trigger(eventEmitter.USER_SEARCH_REQ, {\n            query: userNumber,\n            field: \"number\",\n          });\n        } else {\n          me.lastUser = user;\n          me.setLayer(false, e);\n        }\n      });\n\n      $(\"#app\").delegate(\".bjy-user-layer\", \"click\", function (event) {\n        event.stopPropagation();\n      });\n\n      $(\"#app\").click(function () {\n        $(\".bjy-user-layer\") && $(\".bjy-user-layer\").hide();\n      });\n    } else {\n      // 学生端接收邀请发言信令\n      let userSpeak = BJY.userSpeak;\n      eventEmitter.on(eventEmitter.SPEAK_INVITE_CONFIRM, function () {\n        let res = confirm(\"老师邀请你上麦发言\");\n        if (res) {\n          userSpeak.processInvite(true);\n        } else {\n          userSpeak.processInvite(false);\n        }\n      });\n    }\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\">\n//@import url() 引入公共css类\n.bjy-user-layer {\n  position: fixed;\n}\n</style>\n"],"sourceRoot":"src/components/InteractionPanel"}]}