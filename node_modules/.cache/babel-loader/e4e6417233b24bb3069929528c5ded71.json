{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/RollCall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/RollCall.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":1615566678361},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGxhbmd1YWdlIGZyb20gIi4uLy4uL2xhbmd1YWdlL21haW4iOwp2YXIgYXV0aCA9IEJKWS5hdXRoOwp2YXIgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsCiAgICAgIHN0YXR1czogMCwKICAgICAgaXNTdHVkZW50OiBhdXRoLmlzU3R1ZGVudCgpLAogICAgICBhcHBseVRpbWVyOiBudWxsLAogICAgICB0aW1lTGVmdDogIiIsCiAgICAgIHJlc3VsdDogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGV2ZW50RW1pdHRlci5vbihldmVudEVtaXR0ZXIuUk9MTF9DQUxMLCAvLyDogIHluIjlj5HotbfkuobngrnlkI0KICAgIGZ1bmN0aW9uIChlLCBkYXRhKSB7CiAgICAgIF90aGlzLnRpbWVMZWZ0ID0gZGF0YS5kdXJhdGlvbjsKCiAgICAgIF90aGlzLiREaWFsb2cuc2hvdyh7CiAgICAgICAgdGl0bGU6ICLngrnlkI0iLAogICAgICAgIGNvbnRlbnQ6ICJcdThCRjdcdTU3Mjg8c3BhbiBpZD1cInJvbGwtY2FsbC10aW1lLWxlZnRcIj4iLmNvbmNhdChkYXRhLmR1cmF0aW9uLCAiPC9zcGFuPlx1NzlEMlx1NTE4NVx1NTRDRFx1NUU5NCIpLAogICAgICAgIGNvbmZpcm1UZXh0OiAi562U5YiwIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuUk9MTF9DQUxMX1JFUyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuYXBwbHlUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMudGltZUxlZnQgPT09IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuYXBwbHlUaW1lcik7CgogICAgICAgICAgX3RoaXMuJERpYWxvZy5oaWRlKCk7CiAgICAgICAgfQoKICAgICAgICAkKCIjcm9sbC1jYWxsLXRpbWUtbGVmdCIpLnRleHQoX3RoaXMudGltZUxlZnQpOwogICAgICAgIF90aGlzLnRpbWVMZWZ0LS07CiAgICAgIH0sIDEwMDApOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHt9Cn07"},{"version":3,"sources":["RollCall.vue"],"names":[],"mappings":";;;;;;AAOA,OAAA,QAAA,MAAA,qBAAA;AAEA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAHA;AAIA,MAAA,UAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,QAAA,EAAA,EAZA;AAaA,EAAA,KAAA,EAAA,EAbA;AAcA,EAAA,OAAA,EAAA,EAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,YAAA,CAAA,EAAA,CACA,YAAA,CAAA,SADA,EACA;AACA,cAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,QAAA;;AACA,MAAA,KAAA,CAAA,OAAA,CACA,IADA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,OAAA,yDAAA,IAAA,CAAA,QAAA,oCAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OADA,EAMA,IANA,CAMA,YAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,aAAA;AACA,OARA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAXA;;AAaA,MAAA,KAAA,CAAA,UAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,QAAA,KAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA,KAAA,CAAA,UAAA,CAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA;;AACA,QAAA,CAAA,CAAA,sBAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,QAAA;AACA,OAPA,EAOA,IAPA,CAAA;AAQA,KAzBA;AA2BA,GA3CA;AA4CA,EAAA,OA5CA,qBA4CA,CAAA,CA5CA;AA6CA,EAAA,aA7CA,2BA6CA,CAAA;AA7CA,CAAA","sourcesContent":["<!-- 点名组件实现： 点名没有独立的组件来实现，我们提供了一套事件驱动的点名系统 -->\n\n<template>\n  <div id=\"roll-call-dialog\"></div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\n\nlet auth = BJY.auth;\nlet eventEmitter = BJY.eventEmitter;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language: language,\n      status: 0,\n      isStudent: auth.isStudent(),\n      applyTimer: null,\n      timeLeft: \"\",\n      result: \"\",\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {},\n  created() {\n    eventEmitter.on(\n      eventEmitter.ROLL_CALL, // 老师发起了点名\n      (e, data) => {\n        this.timeLeft = data.duration;\n        this.$Dialog\n          .show({\n            title: \"点名\",\n            content: `请在<span id=\"roll-call-time-left\">${data.duration}</span>秒内响应`,\n            confirmText: \"答到\",\n          })\n          .then(() => {\n            eventEmitter.trigger(eventEmitter.ROLL_CALL_RES);\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n\n        this.applyTimer = setInterval(() => {\n          if (this.timeLeft === 0) {\n            clearInterval(this.applyTimer);\n            this.$Dialog.hide();\n          }\n          $(\"#roll-call-time-left\").text(this.timeLeft);\n          this.timeLeft--;\n        }, 1000);\n      }\n    );\n  },\n  mounted() {},\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n</style>\n"],"sourceRoot":"src/components/ModalPanel"}]}