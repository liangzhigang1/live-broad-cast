{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/AnswerMachine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/ModalPanel/AnswerMachine.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGxhbmd1YWdlIGZyb20gIi4uLy4uL2xhbmd1YWdlL21haW4iOwp2YXIgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKdmFyIGF1dGggPSBCSlkuYXV0aDsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsCiAgICAgIHZpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbjogZnVuY3Rpb24gb3BlbihkYXRhLCBpc1Nob3dSZXN1bHQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICAgIGF1dGguaXNTdHVkZW50KCkgJiYgQkpZLkFuc3dlclN0dWRlbnQub3BlbigkLmV4dGVuZCh7CiAgICAgICAgZWxlbWVudDogJCgiI2Fuc3dlci1tYWNoaW5lIC5wbGFjZWhvbGRlciIpWzBdLAogICAgICAgIC8vIOaYr+WQpuWcqOaPkOS6pOS5i+WQjuWFs+mXre+8jOm7mOiupOS4umZhbHNlCiAgICAgICAgYXV0b0Nsb3NlQWZ0ZXJTdWJtaXQ6IGZhbHNlLAogICAgICAgIC8vIOe7hOS7tuWGhemDqOS4jeaPkOS+m1VJ6ZqQ6JeP77yM55Sx5aSW5bGC6ZqQ6JePCiAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgIF90aGlzLmNsb3NlKCk7CiAgICAgICAgfSwKICAgICAgICBvbkhpZGU6IGZ1bmN0aW9uIG9uSGlkZSgpIHsKICAgICAgICAgIF90aGlzLmNsb3NlKCk7CiAgICAgICAgfSwKICAgICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgICAvLyAvLyDmmL7npLrnrZTmoYgKICAgICAgICBzaG93UmVzdWx0OiBpc1Nob3dSZXN1bHQsCiAgICAgICAgLy8g5o+Q5Lqk5ZCO56uL5Y2z5pi+56S6562U5qGICiAgICAgICAgYXV0b1Nob3dSZXN1bHRBZnRlckVuZDogISFkYXRhLmlzU2hvd0NvcnJlY3RBbnN3ZXIKICAgICAgfSwgZGF0YSkpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgLy8gICDlrabnlJ/nq6/pnIDopoHnm5HlkKzkuovku7YKICAgIGV2ZW50RW1pdHRlci5vbihldmVudEVtaXR0ZXIuU1RBUlRfQU5TV0VSLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICBfdGhpczIub3BlbihkYXRhLCBmYWxzZSk7CiAgICB9KS5vbihldmVudEVtaXR0ZXIuRU5EX0FOU1dFUiwgZnVuY3Rpb24gKCkge30pIC8vIOWxleekuuetlOmimOe7k+aenAogICAgLm9uKGV2ZW50RW1pdHRlci5BTlNFUl9SRVNVTFRfU0hPVywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICAgIF90aGlzMi5vcGVuKGRhdGEsIHRydWUpOwogICAgfSkub24oInRvZ2dsZV9hbnN3ZXJfZGlhbG9nIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIudmlzaWJsZSA/IF90aGlzMi5jbG9zZSgpIDogX3RoaXMyLm9wZW4oKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIGF1dGguaXNUZWFjaGVyKCkgPyBCSlkuQW5zd2VyVGVhY2hlci5pbml0KHsKICAgICAgZWxlbWVudDogJCgiI2Fuc3dlci1tYWNoaW5lIC5wbGFjZWhvbGRlciIpWzBdLAogICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgIF90aGlzMy5jbG9zZSgpOwogICAgICB9LAogICAgICBvbkhpZGU6IGZ1bmN0aW9uIG9uSGlkZSgpIHsKICAgICAgICBfdGhpczMuY2xvc2UoKTsKICAgICAgfQogICAgfSkgOiBCSlkuQW5zd2VyU3R1ZGVudC5pbml0KCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30KfTs="},{"version":3,"sources":["AnswerMachine.vue"],"names":[],"mappings":";;;;;;;AAQA,OAAA,QAAA,MAAA,qBAAA;AACA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AACA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,IADA,EACA,YADA,EACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,SAAA,MACA,GAAA,CAAA,aAAA,CAAA,IAAA,CACA,CAAA,CAAA,MAAA,CACA;AACA,QAAA,OAAA,EAAA,CAAA,CAAA,8BAAA,CAAA,CAAA,CAAA,CADA;AAEA;AACA,QAAA,oBAAA,EAAA,KAHA;AAIA;AACA,QAAA,OAAA,EAAA,mBAAA;AACA,UAAA,KAAA,CAAA,KAAA;AACA,SAPA;AAQA,QAAA,MAAA,EAAA,kBAAA;AACA,UAAA,KAAA,CAAA,KAAA;AACA,SAVA;AAWA,QAAA,OAAA,EAAA,KAXA;AAYA;AACA,QAAA,UAAA,EAAA,YAbA;AAcA;AACA,QAAA,sBAAA,EAAA,CAAA,CAAA,IAAA,CAAA;AAfA,OADA,EAkBA,IAlBA,CADA,CADA;AAuBA,KA1BA;AA2BA,IAAA,KA3BA,mBA2BA;AACA,WAAA,OAAA,GAAA,KAAA;AACA;AA7BA,GARA;AAuCA,EAAA,OAvCA,qBAuCA;AAAA;;AACA;AACA,IAAA,YAAA,CACA,EADA,CACA,YAAA,CAAA,YADA,EACA,UAAA,KAAA,EAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA;AACA,KAJA,EAKA,EALA,CAKA,YAAA,CAAA,UALA,EAKA,YAAA,CAAA,CALA,EAMA;AANA,KAOA,EAPA,CAOA,YAAA,CAAA,iBAPA,EAOA,UAAA,KAAA,EAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,KATA,EAUA,EAVA,CAUA,sBAVA,EAUA,YAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,KAAA,EAAA,GAAA,MAAA,CAAA,IAAA,EAAA;AACA,KAZA;AAaA,GAtDA;AAuDA,EAAA,OAvDA,qBAuDA;AAAA;;AACA,IAAA,IAAA,CAAA,SAAA,KACA,GAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AACA,MAAA,OAAA,EAAA,CAAA,CAAA,8BAAA,CAAA,CAAA,CAAA,CADA;AAEA,MAAA,OAAA,EAAA,mBAAA;AACA,QAAA,MAAA,CAAA,KAAA;AACA,OAJA;AAKA,MAAA,MAAA,EAAA,kBAAA;AACA,QAAA,MAAA,CAAA,KAAA;AACA;AAPA,KAAA,CADA,GAUA,GAAA,CAAA,aAAA,CAAA,IAAA,EAVA;AAWA,GAnEA;AAoEA,EAAA,aApEA,2BAoEA,CAAA;AApEA,CAAA","sourcesContent":["<!-- 答题器组件 -->\n<template>\n  <div v-show=\"visible\" id=\"answer-machine\">\n    <div class=\"placeholder\"></div>\n  </div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\nconst eventEmitter = BJY.eventEmitter;\nconst auth = BJY.auth;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language,\n      visible: false,\n    };\n  },\n  methods: {\n    open(data, isShowResult) {\n      this.visible = true;\n      auth.isStudent() &&\n        BJY.AnswerStudent.open(\n          $.extend(\n            {\n              element: $(\"#answer-machine .placeholder\")[0],\n              // 是否在提交之后关闭，默认为false\n              autoCloseAfterSubmit: false,\n              // 组件内部不提供UI隐藏，由外层隐藏\n              onClose: () => {\n                this.close();\n              },\n              onHide: () => {\n                this.close();\n              },\n              replace: false,\n              // // 显示答案\n              showResult: isShowResult,\n              // 提交后立即显示答案\n              autoShowResultAfterEnd: !!data.isShowCorrectAnswer,\n            },\n            data\n          )\n        );\n    },\n    close() {\n      this.visible = false;\n    },\n  },\n  created() {\n    //   学生端需要监听事件\n    eventEmitter\n      .on(eventEmitter.START_ANSWER, (event, data) => {\n        console.log(data);\n        this.open(data, false);\n      })\n      .on(eventEmitter.END_ANSWER, () => {})\n      // 展示答题结果\n      .on(eventEmitter.ANSER_RESULT_SHOW, (event, data) => {\n        this.open(data, true);\n      })\n      .on(\"toggle_answer_dialog\", () => {\n        this.visible ? this.close() : this.open();\n      });\n  },\n  mounted() {\n    auth.isTeacher()\n      ? BJY.AnswerTeacher.init({\n          element: $(\"#answer-machine .placeholder\")[0],\n          onClose: () => {\n            this.close();\n          },\n          onHide: () => {\n            this.close();\n          },\n        })\n      : BJY.AnswerStudent.init();\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\">\n//@import url(); 引入公共css类\n/*答题器样式*/\n#answer-machine {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);\n  z-index: 10;\n  background-color: #fff;\n}\n</style>\n"],"sourceRoot":"src/components/ModalPanel"}]}