{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/TeacherPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/TeacherPlayer.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwp2YXIgc3RvcmUgPSBCSlkuc3RvcmU7CnZhciBhdXRoID0gQkpZLmF1dGg7CnZhciBldmVudEVtaXR0ZXIgPSBCSlkuZXZlbnRFbWl0dGVyOwp2YXIgdXNlckRhdGEgPSBCSlkuZGF0YS51c2VyOwp2YXIgY29uZmlnID0gQkpZLmNvbmZpZzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwbGF5ZXI6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WIm+W7uuiAgeW4iOaSreaUvuWZqAogICAgY3JlYXRlVGVhY2hlclBsYXllcjogZnVuY3Rpb24gY3JlYXRlVGVhY2hlclBsYXllcihpc1dlYlJUQ01peCkgewogICAgICBpZiAoaXNXZWJSVENNaXggPT09IHVuZGVmaW5lZCkgewogICAgICAgIGlzV2ViUlRDTWl4ID0gYXV0aC5pc1dlYlJUQygpOwogICAgICB9CgogICAgICBpc1dlYlJUQ01peCAmJiAoc3RvcmUuZ2V0KCd3ZWJydGNNaXhVc2VyJykubmFtZSA9ICfogIHluIgnKTsKICAgICAgdGhpcy5wbGF5ZXIgJiYgdGhpcy5wbGF5ZXIuZGVzdHJveSgpOwogICAgICB0aGlzLnBsYXllciA9IG51bGw7CiAgICAgIHZhciB1c2VyID0gYXV0aC5pc1ByZXNlbnRlcigpID8gc3RvcmUuZ2V0KCJwcmVzZW50ZXIiKSA6IGlzV2ViUlRDTWl4ID8gc3RvcmUuZ2V0KCJ3ZWJydGNNaXhVc2VyIikgOiBzdG9yZS5nZXQoInByZXNlbnRlciIpIHx8IHN0b3JlLmdldCgidGVhY2hlciIpOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBlbGVtZW50OiAkKCIjbGl2ZS10ZWFjaGVyLXBsYXllciIpLAogICAgICAgIHJlcGxhY2U6IGZhbHNlLAogICAgICAgIHVzZXI6IHVzZXIsCiAgICAgICAgZXh0ZW5zaW9uOiBCSlkuZ2V0RXh0ZW5zaW9uKCksCiAgICAgICAgY2FuU3dpdGNoQ2FtZXJhOiBhdXRoLmlzU2VsZihzdG9yZS5nZXQoInRlYWNoZXIuaWQiKSksCiAgICAgICAgY2FuU3dpdGNoTWljOiBhdXRoLmlzU2VsZihzdG9yZS5nZXQoInRlYWNoZXIuaWQiKSksCiAgICAgICAgZm9vdGVyT3B0aW9uczogewogICAgICAgICAgb25Ub2dnbGVDbGljazogdGhpcy5wcHRWaWRlb1N3aXRjaAogICAgICAgIH0KICAgICAgfTsKICAgICAgIWF1dGguaXNUZWFjaGVyKCkgJiYgKG9wdGlvbnMuaXNXZWJSVENNaXggPSBpc1dlYlJUQ01peCk7CiAgICAgIHRoaXMucGxheWVyID0gQkpZLkRlZmF1bHRUaGVtZVBsYXllci5jcmVhdGUob3B0aW9ucyk7CiAgICB9LAogICAgc3dhcDogZnVuY3Rpb24gc3dhcChwcmVzZW50ZXJDYW1lcmFOb2RlLCB3aGl0ZWJvYXJkTm9kZSkgewogICAgICB2YXIgcHJlc2VudGVyQ2FtZXJhUGFyZW50Tm9kZSA9IHByZXNlbnRlckNhbWVyYU5vZGUucGFyZW50Tm9kZTsKICAgICAgdmFyIHdoaXRlYm9hcmRQYXJlbnROb2RlID0gd2hpdGVib2FyZE5vZGUucGFyZW50Tm9kZTsKICAgICAgdmFyIHByZXNlbnRlckNhbWVyYVBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciB3aGl0ZWJvYXJkUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcHJlc2VudGVyQ2FtZXJhUGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocHJlc2VudGVyQ2FtZXJhUGxhY2Vob2xkZXIsIHByZXNlbnRlckNhbWVyYU5vZGUpOwogICAgICB3aGl0ZWJvYXJkUGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod2hpdGVib2FyZFBsYWNlaG9sZGVyLCB3aGl0ZWJvYXJkTm9kZSk7CiAgICAgIHdoaXRlYm9hcmROb2RlICYmIHByZXNlbnRlckNhbWVyYVBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdoaXRlYm9hcmROb2RlLCBwcmVzZW50ZXJDYW1lcmFQbGFjZWhvbGRlcik7CiAgICAgIHByZXNlbnRlckNhbWVyYU5vZGUgJiYgd2hpdGVib2FyZFBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHByZXNlbnRlckNhbWVyYU5vZGUsIHdoaXRlYm9hcmRQbGFjZWhvbGRlcik7CiAgICAgIHByZXNlbnRlckNhbWVyYVBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHJlc2VudGVyQ2FtZXJhUGxhY2Vob2xkZXIpOwogICAgICB3aGl0ZWJvYXJkUGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3aGl0ZWJvYXJkUGxhY2Vob2xkZXIpOwogICAgfSwKICAgIC8vIOWIh+aNonBwdOS4juS4u+iusuinhumikeS9jee9ru+8jOWmgumcgOWQjOatpeWIh+aNou+8jOWPr+mAmui/h+iHquWumuS5ieS/oeS7pOWunueOsAogICAgcHB0VmlkZW9Td2l0Y2g6IGZ1bmN0aW9uIHBwdFZpZGVvU3dpdGNoKCkgewogICAgICB2YXIgcHJlc2VudGVyRG9tID0gJCgiLmJqeS1wbGF5ZXItdGhlbWUtZGVmYXVsdCIpWzBdOwogICAgICB2YXIgd2hpdGVib2FyZERvbSA9ICQoIi5ianktd2hpdGVib2FyZCIpWzBdOwogICAgICB0aGlzLnN3YXAocHJlc2VudGVyRG9tLCB3aGl0ZWJvYXJkRG9tKTsKICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLldJTkRPV19SRVNJWkUpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHBsYXllckluc3RhbmNlID0gdGhpcy5wbGF5ZXI7CiAgICBldmVudEVtaXR0ZXIub24oZXZlbnRFbWl0dGVyLkNMQVNTX1NUQVJULCBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHsKICAgICAgX3RoaXMuY3JlYXRlVGVhY2hlclBsYXllcigpOyAvLyDorr7nva7kuIDkuIvlj5HoqIDmnYPpmZAKCgogICAgICBpZiAoYXV0aC5pc1RlYWNoZXIoKSB8fCBhdXRoLmlzQXNzaXN0YW50KCkpIHsKICAgICAgICBzdG9yZS5zZXQoImNsYXNzLnNwZWFrU3RhdGUiLCBjb25maWcuU1BFQUtfU1RBVEVfRlJFRSk7CiAgICAgIH0gLy8g5LiK6K++5ZCO6ICB5biI6Ieq5Yqo5byA5ZCv6Z+z6KeG6aKRCgoKICAgICAgaWYgKGF1dGguaXNUZWFjaGVyKCkpIHsKICAgICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuTUVESUFfU1dJVENIX1RSSUdHRVIsIHsKICAgICAgICAgIGF1ZGlvT246IHRydWUsCiAgICAgICAgICB2aWRlb09uOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLm9uKGV2ZW50RW1pdHRlci5NRURJQV9TV0lUQ0hfVFJJR0dFUiwgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICAgIHZhciBwbGF5ZXIgPSBCSlkuUGxheWVyLmluc3RhbmNlc1tzdG9yZS5nZXQoInVzZXIuaWQiKV07CiAgICAgIHBsYXllciAmJiBCSlkudXNlclB1Ymxpc2guc2V0RGV2aWNlKHBsYXllciwgZGF0YS52aWRlb09uLCBkYXRhLmF1ZGlvT24pOwogICAgfSkub24oIC8vIOiAgeW4iOaJk+W8gOWqkuS9k+S6i+S7tgogICAgZXZlbnRFbWl0dGVyLlRFQUNIRVJfTUVESUFfT04sIGZ1bmN0aW9uICgpIHsKICAgICAgLy8g5Yik5pat5pKt5pS+5Zmo5piv5ZCm5a2Y5ZyoCiAgICAgIGlmICghX3RoaXMucGxheWVyKSB7CiAgICAgICAgX3RoaXMuY3JlYXRlVGVhY2hlclBsYXllcigpOwogICAgICB9CiAgICB9KS5vbihldmVudEVtaXR0ZXIuTUVESUFfU1RBVFVTX0NIQU5HRSwgZnVuY3Rpb24gKGUsIGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICBpZiAoZGF0YS52aWRlb09uKSB7CiAgICAgICAgIWF1dGguaXNQcmVzZW50ZXIoKSAmJiBfdGhpcy5jcmVhdGVUZWFjaGVyUGxheWVyKGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAhYXV0aC5pc1ByZXNlbnRlcigpICYmIF90aGlzLmNyZWF0ZVRlYWNoZXJQbGF5ZXIodHJ1ZSk7CiAgICAgIH0KICAgIH0pLm9uKCAvLyDkuLvmkq3lhbPpl63lqpLkvZPkuovku7YKICAgIGV2ZW50RW1pdHRlci5URUFDSEVSX01FRElBX09GRiwgZnVuY3Rpb24gKCkge30pLm9uKGV2ZW50RW1pdHRlci5DTEFTU1JPT01fQ09OTkVDVF9TVUNDRVNTLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmNyZWF0ZVRlYWNoZXJQbGF5ZXIoKTsKICAgIH0pOyAvLyDnm5HlkKzkuLvorrLkurrliIfmjaIKCiAgICAhYXV0aC5pc1RlYWNoZXIoKSAmJiBzdG9yZS53YXRjaCgicHJlc2VudGVySWQiLCBmdW5jdGlvbiAobmV3UHJlc2VudGVySWQsIG9sZFByZXNlbnRlcklkKSB7CiAgICAgIHZhciBuZXdQcmVzZW50ZXIgPSB1c2VyRGF0YS5maW5kKG5ld1ByZXNlbnRlcklkKTsKICAgICAgdmFyIG9sZFByZXNlbnRlciA9IHVzZXJEYXRhLmZpbmQob2xkUHJlc2VudGVySWQpOyAvLyDlhYjlpITnkIblj5HoqIDliJfooagKCiAgICAgIGV2ZW50RW1pdHRlci5BQ1RJVkVfTElTVF9QUkVTRU5URVJfQ0hBTkdFX1RSSUdHRVIgPSAiYWN0aXZlX2xpc3RfcHJlc2VudGVyX2NoYW5nZV90cmlnZ2VyIjsKICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLkFDVElWRV9MSVNUX1BSRVNFTlRFUl9DSEFOR0VfVFJJR0dFUiwgewogICAgICAgIG5ld1ByZXNlbnRlcjogbmV3UHJlc2VudGVyLAogICAgICAgIG9sZFByZXNlbnRlcjogb2xkUHJlc2VudGVyCiAgICAgIH0pOyAvLyDkuLvorrLmkq3mlL7lmajplIDmr4Hph43lu7rvvIwKCiAgICAgIGlmIChuZXdQcmVzZW50ZXIpIHsKICAgICAgICBpZiAoX3RoaXMucGxheWVyKSB7CiAgICAgICAgICBfdGhpcy5jcmVhdGVUZWFjaGVyUGxheWVyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vIOWFqOWxjyBlc2Mg6YCA5Ye655qE6Zeu6aKYCgogICAgaWYgKGRvYy5yZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpc0Z1bGxzY3JlZW4gPSBwbGF5ZXJJbnN0YW5jZSAmJiBwbGF5ZXJJbnN0YW5jZS5pc0Z1bGxTY3JlZW47CgogICAgICAgIGlmIChkb2N1bWVudC5mdWxsc2NyZWVuICE9IGlzRnVsbHNjcmVlbiAmJiAhZG9jdW1lbnQuZnVsbHNjcmVlbikgewogICAgICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLkZVTExTQ1JFRU5fRVhJVF9UUklHR0VSKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChkb2Mud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaXNGdWxsc2NyZWVuID0gcGxheWVySW5zdGFuY2UgJiYgcGxheWVySW5zdGFuY2UuaXNGdWxsU2NyZWVuOwoKICAgICAgICBpZiAoZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuICE9IGlzRnVsbHNjcmVlbiAmJiAhZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKSB7CiAgICAgICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuRlVMTFNDUkVFTl9FWElUX1RSSUdHRVIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGRvYy5tb3pSZXF1ZXN0RnVsbFNjcmVlbikgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpc0Z1bGxzY3JlZW4gPSBwbGF5ZXJJbnN0YW5jZSAmJiBwbGF5ZXJJbnN0YW5jZS5pc0Z1bGxTY3JlZW47CgogICAgICAgIGlmIChkb2N1bWVudC5tb3pGdWxsU2NyZWVuICE9IGlzRnVsbHNjcmVlbiAmJiAhZG9jdW1lbnQubW96RnVsbFNjcmVlbikgewogICAgICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLkZVTExTQ1JFRU5fRVhJVF9UUklHR0VSKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TeacherPlayer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"live-teacher-player\"></div>\n</template>\n\n<script>\nconst store = BJY.store;\nconst auth = BJY.auth;\nconst eventEmitter = BJY.eventEmitter;\nconst userData = BJY.data.user;\nconst config = BJY.config;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      player: null,\n    };\n  },\n  methods: {\n    //创建老师播放器\n    createTeacherPlayer(isWebRTCMix) {\n      if (isWebRTCMix === undefined) {\n        isWebRTCMix = auth.isWebRTC();\n      }\n      isWebRTCMix && (store.get('webrtcMixUser').name = '老师');\n      this.player && this.player.destroy();\n      this.player = null;\n      const user = auth.isPresenter()\n        ? store.get(\"presenter\")\n        : isWebRTCMix\n        ? store.get(\"webrtcMixUser\")\n        : store.get(\"presenter\") || store.get(\"teacher\");\n      const options = {\n        element: $(\"#live-teacher-player\"),\n        replace: false,\n        user: user,\n        extension: BJY.getExtension(),\n        canSwitchCamera: auth.isSelf(store.get(\"teacher.id\")),\n        canSwitchMic: auth.isSelf(store.get(\"teacher.id\")),\n        footerOptions: {\n          onToggleClick: this.pptVideoSwitch,\n        },\n      };\n      !auth.isTeacher() && (options.isWebRTCMix = isWebRTCMix);\n      this.player = BJY.DefaultThemePlayer.create(options);\n    },\n\n    swap(presenterCameraNode, whiteboardNode) {\n      var presenterCameraParentNode = presenterCameraNode.parentNode;\n      var whiteboardParentNode = whiteboardNode.parentNode;\n      var presenterCameraPlaceholder = document.createElement(\"div\");\n      var whiteboardPlaceholder = document.createElement(\"div\");\n\n      presenterCameraParentNode.insertBefore(\n        presenterCameraPlaceholder,\n        presenterCameraNode\n      );\n      whiteboardParentNode.insertBefore(whiteboardPlaceholder, whiteboardNode);\n\n      whiteboardNode &&\n        presenterCameraParentNode.insertBefore(\n          whiteboardNode,\n          presenterCameraPlaceholder\n        );\n      presenterCameraNode &&\n        whiteboardParentNode.insertBefore(presenterCameraNode, whiteboardPlaceholder);\n\n      presenterCameraParentNode.removeChild(presenterCameraPlaceholder);\n      whiteboardParentNode.removeChild(whiteboardPlaceholder);\n    },\n\n    // 切换ppt与主讲视频位置，如需同步切换，可通过自定义信令实现\n    pptVideoSwitch() {\n      const presenterDom = $(\".bjy-player-theme-default\")[0];\n      const whiteboardDom = $(\".bjy-whiteboard\")[0];\n      this.swap(presenterDom, whiteboardDom);\n      eventEmitter.trigger(eventEmitter.WINDOW_RESIZE);\n    },\n  },\n  created() {\n    var playerInstance = this.player\n    eventEmitter\n      .on(eventEmitter.CLASS_START, (event, data) => {\n        this.createTeacherPlayer();\n        // 设置一下发言权限\n        if (auth.isTeacher() || auth.isAssistant()) {\n          store.set(\"class.speakState\", config.SPEAK_STATE_FREE);\n        }\n        // 上课后老师自动开启音视频\n        if (auth.isTeacher()) {\n          eventEmitter.trigger(eventEmitter.MEDIA_SWITCH_TRIGGER, {\n            audioOn: true,\n            videoOn: true,\n          });\n        }\n      })\n      .on(eventEmitter.MEDIA_SWITCH_TRIGGER, function (event, data) {\n        var player = BJY.Player.instances[store.get(\"user.id\")];\n        player && BJY.userPublish.setDevice(player, data.videoOn, data.audioOn);\n      })\n      .on(\n        // 老师打开媒体事件\n        eventEmitter.TEACHER_MEDIA_ON,\n        () => {\n          // 判断播放器是否存在\n          if (!this.player) {\n            this.createTeacherPlayer();\n          }\n        }\n      )\n      .on(\n        eventEmitter.MEDIA_STATUS_CHANGE,\n        (e, data) => {\n          console.log(data)\n          if (data.videoOn) {\n            !auth.isPresenter() && this.createTeacherPlayer(false)\n          } else {\n            !auth.isPresenter() && this.createTeacherPlayer(true)\n          }\n        }\n      )\n      .on(\n        // 主播关闭媒体事件\n        eventEmitter.TEACHER_MEDIA_OFF,\n        () => {\n        }\n      )\n      .on(\n        eventEmitter.CLASSROOM_CONNECT_SUCCESS,\n        () => {\n          this.createTeacherPlayer();\n        }\n      )\n    // 监听主讲人切换\n    !auth.isTeacher() &&\n      store.watch(\"presenterId\", (newPresenterId, oldPresenterId) => {\n        var newPresenter = userData.find(newPresenterId);\n        var oldPresenter = userData.find(oldPresenterId);\n        // 先处理发言列表\n        eventEmitter.ACTIVE_LIST_PRESENTER_CHANGE_TRIGGER =\n          \"active_list_presenter_change_trigger\";\n        eventEmitter.trigger(eventEmitter.ACTIVE_LIST_PRESENTER_CHANGE_TRIGGER, {\n          newPresenter: newPresenter,\n          oldPresenter: oldPresenter,\n        });\n        // 主讲播放器销毁重建，\n        if (newPresenter) {\n          if (this.player) {\n            this.createTeacherPlayer();\n          }\n        }\n      });\n\n    const doc = document.documentElement\n    // 全屏 esc 退出的问题\n    if (doc.requestFullscreen) {\n        document.addEventListener(\n            'fullscreenchange',\n            function () {\n                var isFullscreen = playerInstance && playerInstance.isFullScreen\n\n                if (document.fullscreen != isFullscreen && !document.fullscreen) {\n                    eventEmitter.trigger(\n                        eventEmitter.FULLSCREEN_EXIT_TRIGGER\n                    );\n                }\n            }\n        );\n    }\n    else if (doc.webkitRequestFullScreen) {\n        document.addEventListener(\n            'webkitfullscreenchange',\n            function () {\n                var isFullscreen = playerInstance && playerInstance.isFullScreen\n\n                if (document.webkitIsFullScreen != isFullscreen && !document.webkitIsFullScreen) {\n                    eventEmitter.trigger(\n                        eventEmitter.FULLSCREEN_EXIT_TRIGGER\n                    );\n                }\n            }\n        );\n    }\n    else if (doc.mozRequestFullScreen) {\n        document.addEventListener(\n            'mozfullscreenchange',\n            function () {\n                var isFullscreen = playerInstance && playerInstance.isFullScreen\n\n                if (document.mozFullScreen != isFullscreen && !document.mozFullScreen) {\n                    eventEmitter.trigger(\n                        eventEmitter.FULLSCREEN_EXIT_TRIGGER\n                    );\n                }\n            }\n        );\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n#live-teacher-player {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n</style>\n"],"sourceRoot":"src/components"}]}