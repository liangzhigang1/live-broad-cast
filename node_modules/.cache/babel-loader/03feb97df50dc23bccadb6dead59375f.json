{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js!/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/zixue/live-broad-cast/src/components/SelfPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/SelfPlayer.vue","mtime":1611227050000},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js","mtime":1615566678361},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KdmFyIHN0b3JlID0gQkpZLnN0b3JlOwp2YXIgZXZlbnRFbWl0dGVyID0gQkpZLmV2ZW50RW1pdHRlcjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwbGF5ZXI6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIm+W7uuiHquW3seeahOaSreaUvuWZqAogICAgY3JlYXRlTXlQbGF5ZXI6IGZ1bmN0aW9uIGNyZWF0ZU15UGxheWVyKGVsZW1lbnQpIHsKICAgICAgdGhpcy5wbGF5ZXIgPSBCSlkuRGVmYXVsdFRoZW1lUGxheWVyLmNyZWF0ZSh7CiAgICAgICAgZWxlbWVudDogJCgiI2xpdmUtc2VsZi1wbGF5ZXIiKSwKICAgICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgICB1c2VyOiBzdG9yZS5nZXQoInVzZXIiKSwKICAgICAgICBleHRlbnNpb246IEJKWS5nZXRFeHRlbnNpb24oKSwKICAgICAgICBjYW5Gb2xkOiB0cnVlLAogICAgICAgIGNhblN3aXRjaENhbWVyYTogdHJ1ZSwKICAgICAgICBjYW5Td2l0Y2hNaWM6IHRydWUsCiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHsKICAgICAgICAgIGV2ZW50RW1pdHRlci50cmlnZ2VyKGV2ZW50RW1pdHRlci5NRURJQV9TV0lUQ0hfVFJJR0dFUiwgewogICAgICAgICAgICB2aWRlb09uOiBmYWxzZSwKICAgICAgICAgICAgYXVkaW9PbjogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY3JlYXRlTXlQbGF5ZXIoKTsKICAgIGV2ZW50RW1pdHRlci5vbiggLy8g55uR5ZCs6Ieq5bex5pGE5YOP5aS05ZKM6bqm5YWL6aOO5Y+Y5YyWCiAgICBldmVudEVtaXR0ZXIuTUVESUFfU1dJVENIX1RSSUdHRVIsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkgewogICAgICB2YXIgcGxheWVyID0gQkpZLlBsYXllci5pbnN0YW5jZXNbc3RvcmUuZ2V0KCJ1c2VyLmlkIildOwogICAgICBwbGF5ZXIgJiYgQkpZLnVzZXJQdWJsaXNoLnNldERldmljZShwbGF5ZXIsIGRhdGEudmlkZW9PbiwgZGF0YS5hdWRpb09uKTsKICAgIH0pOyAvLyDnm5HlkKzoh6rlt7Hmkq3mlL7lmajmmK/lkKbmipjlj6AKCiAgICB0aGlzLnBsYXllciAmJiB0aGlzLnBsYXllci53YXRjaCgiaXNGb2xkZWQiLCBmdW5jdGlvbiAoaXNGb2xkZWQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSAkKCIubGl2ZS1zZWxmLXBsYXllciIpOwoKICAgICAgaWYgKGlzRm9sZGVkKSB7CiAgICAgICAgLy8g5omn6KGM5oqY5Y+gCiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygiaGlkZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOaJp+ihjOWxleW8gAogICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoImhpZGUiKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30KfTs="},{"version":3,"sources":["SelfPlayer.vue"],"names":[],"mappings":";;;;AAKA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,EAAA,EAPA;AAQA,EAAA,KAAA,EAAA,EARA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAFA,0BAEA,OAFA,EAEA;AACA,WAAA,MAAA,GAAA,GAAA,CAAA,kBAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,CAAA,CAAA,mBAAA,CADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,IAAA,EAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAHA;AAIA,QAAA,SAAA,EAAA,GAAA,CAAA,YAAA,EAJA;AAKA,QAAA,OAAA,EAAA,IALA;AAMA,QAAA,eAAA,EAAA,IANA;AAOA,QAAA,YAAA,EAAA,IAPA;AAQA,QAAA,UAAA,EAAA,sBAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,oBAAA,EAAA;AACA,YAAA,OAAA,EAAA,KADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA;AAbA,OAAA,CAAA;AAeA;AAlBA,GATA;AA6BA,EAAA,OA7BA,qBA6BA,CAAA,CA7BA;AA8BA,EAAA,OA9BA,qBA8BA;AACA,SAAA,cAAA;AACA,IAAA,YAAA,CAAA,EAAA,EACA;AACA,IAAA,YAAA,CAAA,oBAFA,EAGA,UAAA,KAAA,EAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,MAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA,SAAA,CAAA,CAAA;AACA,MAAA,MAAA,IAAA,GAAA,CAAA,WAAA,CAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,CAAA,OAAA,CAAA;AACA,KANA,EAFA,CAWA;;AACA,SAAA,MAAA,IACA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,EAAA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,GAAA,CAAA,CAAA,mBAAA,CAAA;;AACA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAHA,MAGA;AACA;AACA,QAAA,OAAA,CAAA,WAAA,CAAA,MAAA;AACA;AACA,KATA,CADA;AAWA,GArDA;AAsDA,EAAA,aAtDA,2BAsDA,CAAA;AAtDA,CAAA","sourcesContent":["<template>\n  <div id=\"live-self-player\"></div>\n</template>\n\n<script>\nlet store = BJY.store;\nlet eventEmitter = BJY.eventEmitter;\nexport default {\n  components: {},\n  data() {\n    return {\n      player: null,\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    // 创建自己的播放器\n    createMyPlayer(element) {\n      this.player = BJY.DefaultThemePlayer.create({\n        element: $(\"#live-self-player\"),\n        replace: false,\n        user: store.get(\"user\"),\n        extension: BJY.getExtension(),\n        canFold: true,\n        canSwitchCamera: true,\n        canSwitchMic: true,\n        onComplete: function () {\n          eventEmitter.trigger(eventEmitter.MEDIA_SWITCH_TRIGGER, {\n            videoOn: false,\n            audioOn: false,\n          });\n        },\n      });\n    },\n  },\n  created() {},\n  mounted() {\n    this.createMyPlayer();\n    eventEmitter.on(\n      // 监听自己摄像头和麦克风变化\n      eventEmitter.MEDIA_SWITCH_TRIGGER,\n      function (event, data) {\n        var player = BJY.Player.instances[store.get(\"user.id\")];\n        player && BJY.userPublish.setDevice(player, data.videoOn, data.audioOn);\n      }\n    );\n\n    // 监听自己播放器是否折叠\n    this.player &&\n      this.player.watch(\"isFolded\", (isFolded) => {\n        var element = $(\".live-self-player\");\n        if (isFolded) {\n          // 执行折叠\n          element.addClass(\"hide\");\n        } else {\n          // 执行展开\n          element.removeClass(\"hide\");\n        }\n      });\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\">\n//@import url(); 引入公共css类\n#live-self-player {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],"sourceRoot":"src/components"}]}