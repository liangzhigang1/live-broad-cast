{"remainingRequest":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/FunctionPanel/SpeakApplyMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/src/components/FunctionPanel/SpeakApplyMenu.vue","mtime":1611227050000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangzg/Downloads/bjy-live-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGxhbmd1YWdlIGZyb20gJy4uLy4uL2xhbmd1YWdlL21haW4nOwp2YXIgc3RvcmUgPSBCSlkuc3RvcmU7CnZhciBldmVudEVtaXR0ZXIgPSBCSlkuZXZlbnRFbWl0dGVyOwp2YXIgYXV0aCA9IEJKWS5hdXRoOwp2YXIgdXNlckRhdGEgPSBCSlkuZGF0YS51c2VyOwovKirmmK/lkKboh6rliqjkuIrpuqYgKi8KCmF1dGguY2FuT3BlbkNhbWVyYVdoZW5TcGVha2luZyA9IGZ1bmN0aW9uICh1c2VyVHlwZSkgewogIHJldHVybiB0cnVlOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwbGF5ZXI6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDnu5HlrprkuIDkuKrnu5PmnZ/lj5HoqIDkuovku7YKICAgIGV2ZW50RW1pdHRlci5TVE9QX1NQRUFLX1RSSUdHRVIgPSAnc3RvcF9zcGVha190cmlnZ2VyJzsKICAgIGV2ZW50RW1pdHRlci5vbihldmVudEVtaXR0ZXIuU1BFQUtfQVBQTFlfUkVTVUxUX1RJTUVPVVQsIGZ1bmN0aW9uIChlLCBkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0aW1lb3V0Jyk7CgogICAgICBfdGhpcy4kVG9hc3QobGFuZ3VhZ2UuVElQX1NQRUFLX0FQUExZX1RJTUVPVVQpOwogICAgfSkub24oZXZlbnRFbWl0dGVyLlNQRUFLX0FQUExZX1JFU1VMVF9SRUpFQ1QsIGZ1bmN0aW9uIChlLCBkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCdyZWplY3QnKTsKCiAgICAgIF90aGlzLiRUb2FzdChsYW5ndWFnZS5USVBfU1BFQUtfQVBQTFlfUkVKRUNUKTsKICAgIH0pLm9uKGV2ZW50RW1pdHRlci5TUEVBS19BUFBMWV9SRVNVTFRfQUNDRVBULCBmdW5jdGlvbiAoZSwgZGF0YSkgewogICAgICBjb25zb2xlLmxvZygnYWNjZXB0Jyk7CgogICAgICBfdGhpcy4kVG9hc3QobGFuZ3VhZ2UuVElQX1NQRUFLX0FQUExZX0FDQ0VQVCk7CgogICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuTUVESUFfU1dJVENIX1RSSUdHRVIsIHsKICAgICAgICB2aWRlb09uOiB0cnVlLAogICAgICAgIGF1ZGlvT246IHRydWUKICAgICAgfSk7CiAgICB9KTsKICAgIEJKWS5TcGVha0FwcGx5TWVudS5jcmVhdGUoewogICAgICBlbGVtZW50OiAkKCcjbWVudS1zcGVhay1hcHBseScpLAogICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgLy8g5Li+5omL5oyJ6ZKu6KKr54K55Ye7CiAgICAgIG9uQXBwbHlDbGljazogZnVuY3Rpb24gb25BcHBseUNsaWNrKCkgewogICAgICAgIGlmIChzdG9yZS5nZXQoJ2NsYXNzLnN0YXJ0ZWQnKSkgewogICAgICAgICAgaWYgKHVzZXJEYXRhLmFjdGl2ZSgpLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIF90aGlzLiRUb2FzdCgn5b2T5YmN5LiK5Y+w5Lq65pWw5bey5ruhJyk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgQkpZLnVzZXJTcGVhay5zdGFydEFwcGx5KDEwICogMTAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRUb2FzdChsYW5ndWFnZS5USVBfQ0xBU1NfTk9UX1NUQVJUKTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyDlj5bmtojkuL7miYvooqvngrnlh7sKICAgICAgb25DYW5jZWxDbGljazogZnVuY3Rpb24gb25DYW5jZWxDbGljaygpIHsKICAgICAgICBCSlkudXNlclNwZWFrLmNhbmNlbEFwcGx5KCk7CiAgICAgIH0sCiAgICAgIC8vIOe7k+adn+WPkeiogOiiq+eCueWHuwogICAgICBvblN0b3BDbGljazogZnVuY3Rpb24gb25TdG9wQ2xpY2soKSB7CiAgICAgICAgQkpZLnVzZXJTcGVhay5zdG9wU3BlYWsoQkpZLnN0b3JlLmdldCgndXNlci5pZCcpKTsKICAgICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuU1RPUF9TUEVBS19UUklHR0VSKTsKICAgICAgICBldmVudEVtaXR0ZXIudHJpZ2dlcihldmVudEVtaXR0ZXIuTUVESUFfU1dJVENIX1RSSUdHRVIsIHsKICAgICAgICAgIHZpZGVvT246IGZhbHNlLAogICAgICAgICAgYXVkaW9PbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30KfTs="},{"version":3,"sources":["SpeakApplyMenu.vue"],"names":[],"mappings":";;;;;;AAQA,OAAA,QAAA,MAAA,qBAAA;AAEA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AACA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,IAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AAEA;;AACA,IAAA,CAAA,yBAAA,GAAA,UAAA,QAAA,EAAA;AACA,SAAA,IAAA;AACA,CAFA;;AAIA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,EAAA,EAPA;AAQA,EAAA,KAAA,EAAA,EARA;AASA,EAAA,OAAA,EAAA,EATA;AAYA,EAAA,OAZA,qBAYA,CACA,CAbA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AACA;AACA,IAAA,YAAA,CAAA,kBAAA,GAAA,oBAAA;AACA,IAAA,YAAA,CACA,EADA,CAEA,YAAA,CAAA,0BAFA,EAGA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,uBAAA;AACA,KANA,EAQA,EARA,CASA,YAAA,CAAA,yBATA,EAUA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,sBAAA;AACA,KAbA,EAeA,EAfA,CAgBA,YAAA,CAAA,yBAhBA,EAiBA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,sBAAA;;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,oBAAA,EAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAAA;AAIA,KAxBA;AA2BA,IAAA,GAAA,CAAA,cAAA,CAAA,MAAA,CAAA;AACA,MAAA,OAAA,EAAA,CAAA,CAAA,mBAAA,CADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA;AACA,MAAA,YAAA,EAAA,wBAAA;AACA,YAAA,KAAA,CAAA,GAAA,CAAA,eAAA,CAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,UAAA;;AACA;AACA;;AACA,UAAA,GAAA,CAAA,SAAA,CAAA,UAAA,CAAA,KAAA,IAAA;AACA,SANA,MAMA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,mBAAA;;AACA;AACA;AACA,OAfA;AAgBA;AACA,MAAA,aAAA,EAAA,yBAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,WAAA;AACA,OAnBA;AAoBA;AACA,MAAA,WAAA,EAAA,uBAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,SAAA,CAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,SAAA,CAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,kBAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,oBAAA,EAAA;AACA,UAAA,OAAA,EAAA,KADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA;AA5BA,KAAA;AA8BA,GA1EA;AA2EA,EAAA,aA3EA,2BA2EA,CAAA;AA3EA,CAAA","sourcesContent":["<!-- 举手组件 -->\n<template>\n    <div id=\"menu-speak-apply\">\n    </div>\n</template>\n\n<script>\n\nimport language from '../../language/main'\n\nconst store = BJY.store\nconst eventEmitter = BJY.eventEmitter\nconst auth = BJY.auth;\nconst userData = BJY.data.user;\n\n/**是否自动上麦 */\nauth.canOpenCameraWhenSpeaking = function (userType) {\n    return true;\n};\n\nexport default {\n  components: {},\n  data () {\n    return {\n      player: null\n    }\n  },\n  computed: {},\n  watch: {},\n  methods: {\n\n  },\n  created () {\n  },\n  mounted () {\n    // 绑定一个结束发言事件\n    eventEmitter.STOP_SPEAK_TRIGGER = 'stop_speak_trigger'\n    eventEmitter\n      .on(\n        eventEmitter.SPEAK_APPLY_RESULT_TIMEOUT,\n        (e, data) => {\n          console.log('timeout')\n          this.$Toast(language.TIP_SPEAK_APPLY_TIMEOUT)\n        }\n      )\n      .on(\n        eventEmitter.SPEAK_APPLY_RESULT_REJECT,\n        (e, data) => {\n          console.log('reject')\n          this.$Toast(language.TIP_SPEAK_APPLY_REJECT)\n        }\n      )\n      .on(\n        eventEmitter.SPEAK_APPLY_RESULT_ACCEPT,\n        (e, data) => {\n          console.log('accept')\n          this.$Toast(language.TIP_SPEAK_APPLY_ACCEPT)\n          eventEmitter.trigger(eventEmitter.MEDIA_SWITCH_TRIGGER, {\n            videoOn: true,\n            audioOn: true\n          })\n        }\n      )\n\n    BJY.SpeakApplyMenu.create({\n      element: $('#menu-speak-apply'),\n      replace: false,\n      // 举手按钮被点击\n      onApplyClick: () => {\n        if (store.get('class.started')) {\n          if (userData.active().length >= 2) {\n            this.$Toast('当前上台人数已满')\n            return;\n          }\n          BJY.userSpeak.startApply(10 * 1000)\n        } else {\n          this.$Toast(language.TIP_CLASS_NOT_START)\n          return\n        }\n      },\n      // 取消举手被点击\n      onCancelClick: () => {\n        BJY.userSpeak.cancelApply()\n      },\n      // 结束发言被点击\n      onStopClick: () => {\n        BJY.userSpeak.stopSpeak(BJY.store.get('user.id'))\n        eventEmitter.trigger(eventEmitter.STOP_SPEAK_TRIGGER)\n        eventEmitter.trigger(eventEmitter.MEDIA_SWITCH_TRIGGER, {\n          videoOn: false,\n          audioOn: false\n        })\n      }\n    })\n  },\n  beforeDestroy () {}\n}\n</script>\n\n<style lang='scss' scoped>\n//@import url(); 引入公共css类\n\n</style>\n"],"sourceRoot":"src/components/FunctionPanel"}]}