{"remainingRequest":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js!/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangzg/zixue/live-broad-cast/src/components/ModalPanel/RollCall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangzg/zixue/live-broad-cast/src/components/ModalPanel/RollCall.vue","mtime":1611227050000},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/babel-loader/lib/index.js","mtime":1615566678361},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/cache-loader/dist/cjs.js","mtime":1584009001591},{"path":"/Users/liangzg/zixue/live-broad-cast/node_modules/vue-loader/lib/index.js","mtime":1615566687412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBsYW5ndWFnZSBmcm9tICIuLi8uLi9sYW5ndWFnZS9tYWluIjsKdmFyIGF1dGggPSBCSlkuYXV0aDsKdmFyIGV2ZW50RW1pdHRlciA9IEJKWS5ldmVudEVtaXR0ZXI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLAogICAgICBzdGF0dXM6IDAsCiAgICAgIGlzU3R1ZGVudDogYXV0aC5pc1N0dWRlbnQoKSwKICAgICAgYXBwbHlUaW1lcjogbnVsbCwKICAgICAgdGltZUxlZnQ6ICIiLAogICAgICByZXN1bHQ6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBldmVudEVtaXR0ZXIub24oZXZlbnRFbWl0dGVyLlJPTExfQ0FMTCwgLy8g6ICB5biI5Y+R6LW35LqG54K55ZCNCiAgICBmdW5jdGlvbiAoZSwgZGF0YSkgewogICAgICBfdGhpcy50aW1lTGVmdCA9IGRhdGEuZHVyYXRpb247CgogICAgICBfdGhpcy4kRGlhbG9nLnNob3coewogICAgICAgIHRpdGxlOiAi54K55ZCNIiwKICAgICAgICBjb250ZW50OiAiXHU4QkY3XHU1NzI4PHNwYW4gaWQ9XCJyb2xsLWNhbGwtdGltZS1sZWZ0XCI+Ii5jb25jYXQoZGF0YS5kdXJhdGlvbiwgIjwvc3Bhbj5cdTc5RDJcdTUxODVcdTU0Q0RcdTVFOTQiKSwKICAgICAgICBjb25maXJtVGV4dDogIuetlOWIsCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZXZlbnRFbWl0dGVyLnRyaWdnZXIoZXZlbnRFbWl0dGVyLlJPTExfQ0FMTF9SRVMpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKCiAgICAgIF90aGlzLmFwcGx5VGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLnRpbWVMZWZ0ID09PSAwKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzLmFwcGx5VGltZXIpOwoKICAgICAgICAgIF90aGlzLiREaWFsb2cuaGlkZSgpOwogICAgICAgIH0KCiAgICAgICAgJCgiI3JvbGwtY2FsbC10aW1lLWxlZnQiKS50ZXh0KF90aGlzLnRpbWVMZWZ0KTsKICAgICAgICBfdGhpcy50aW1lTGVmdC0tOwogICAgICB9LCAxMDAwKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7fQp9Ow=="},{"version":3,"sources":["RollCall.vue"],"names":[],"mappings":";;;;;;;AAOA,OAAA,QAAA,MAAA,qBAAA;AAEA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAHA;AAIA,MAAA,UAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,QAAA,EAAA,EAZA;AAaA,EAAA,KAAA,EAAA,EAbA;AAcA,EAAA,OAAA,EAAA,EAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,YAAA,CAAA,EAAA,CACA,YAAA,CAAA,SADA,EACA;AACA,cAAA,CAAA,EAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,QAAA;;AACA,MAAA,KAAA,CAAA,OAAA,CACA,IADA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,OAAA,yDAAA,IAAA,CAAA,QAAA,oCAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OADA,EAMA,IANA,CAMA,YAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,aAAA;AACA,OARA,WASA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAXA;;AAaA,MAAA,KAAA,CAAA,UAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,QAAA,KAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA,KAAA,CAAA,UAAA,CAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA;;AACA,QAAA,CAAA,CAAA,sBAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,QAAA;AACA,OAPA,EAOA,IAPA,CAAA;AAQA,KAzBA;AA2BA,GA3CA;AA4CA,EAAA,OA5CA,qBA4CA,CAAA,CA5CA;AA6CA,EAAA,aA7CA,2BA6CA,CAAA;AA7CA,CAAA","sourcesContent":["<!-- 点名组件实现： 点名没有独立的组件来实现，我们提供了一套事件驱动的点名系统 -->\n\n<template>\n  <div id=\"roll-call-dialog\"></div>\n</template>\n\n<script>\nimport language from \"../../language/main\";\n\nlet auth = BJY.auth;\nlet eventEmitter = BJY.eventEmitter;\n\nexport default {\n  components: {},\n  data() {\n    return {\n      language: language,\n      status: 0,\n      isStudent: auth.isStudent(),\n      applyTimer: null,\n      timeLeft: \"\",\n      result: \"\",\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {},\n  created() {\n    eventEmitter.on(\n      eventEmitter.ROLL_CALL, // 老师发起了点名\n      (e, data) => {\n        this.timeLeft = data.duration;\n        this.$Dialog\n          .show({\n            title: \"点名\",\n            content: `请在<span id=\"roll-call-time-left\">${data.duration}</span>秒内响应`,\n            confirmText: \"答到\",\n          })\n          .then(() => {\n            eventEmitter.trigger(eventEmitter.ROLL_CALL_RES);\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n\n        this.applyTimer = setInterval(() => {\n          if (this.timeLeft === 0) {\n            clearInterval(this.applyTimer);\n            this.$Dialog.hide();\n          }\n          $(\"#roll-call-time-left\").text(this.timeLeft);\n          this.timeLeft--;\n        }, 1000);\n      }\n    );\n  },\n  mounted() {},\n  beforeDestroy() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n</style>\n"],"sourceRoot":"src/components/ModalPanel"}]}